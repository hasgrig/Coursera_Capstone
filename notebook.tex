
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Neighborhood-Recommender}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{This is my main project file. The data scraping, visualization
and analysis will be done in this notebook. You can read more about the
project in the report pdf found on my
repository.}\label{this-is-my-main-project-file.-the-data-scraping-visualization-and-analysis-will-be-done-in-this-notebook.-you-can-read-more-about-the-project-in-the-report-pdf-found-on-my-repository.}

First, let's import the necessary libraries

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}293}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
          \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
          \PY{k+kn}{import} \PY{n+nn}{folium} 
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
          \PY{k+kn}{from} \PY{n+nn}{urllib}\PY{n+nn}{.}\PY{n+nn}{request} \PY{k}{import} \PY{n}{urlopen}
          \PY{k+kn}{import} \PY{n+nn}{geocoder}
          \PY{k+kn}{import} \PY{n+nn}{requests}
          \PY{k+kn}{from} \PY{n+nn}{geopy}\PY{n+nn}{.}\PY{n+nn}{geocoders} \PY{k}{import} \PY{n}{Nominatim}
          \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{clear\PYZus{}output}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{cluster} \PY{k}{import} \PY{n}{KMeans}
\end{Verbatim}


    In order to keep my Client id and secret secure, I will be reading them
from a file saved on my computer that I will exclude from git. If you
want to experiment with the notebook, you can create a free account of
foursquare and repace CLIENT\_ID and CLIENT\_SECRET with your own and
skip reading the file. Or you can write a txt file in the same folder as
the notebook that has the CLIENT\_ID on the first line and
CLIENT\_SECRET on the second. After making the .txt file, point to it in
the client\_cred variable.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}294}]:} \PY{n}{client\PYZus{}cred} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{foursquare\PYZus{}client\PYZus{}creds.txt}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{file} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{n}{client\PYZus{}cred}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{r}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n}{CLIENT\PYZus{}ID} \PY{o}{=} \PY{n}{file}\PY{o}{.}\PY{n}{readline}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{}the [:\PYZhy{}1] is used to cut out the \PYZsq{}\PYZbs{}n\PYZsq{} character at the end of the line}
          \PY{n}{CLIENT\PYZus{}SECRET} \PY{o}{=} \PY{n}{file}\PY{o}{.}\PY{n}{readline}\PY{p}{(}\PY{p}{)}
          \PY{n}{VERSION} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{20180605}\PY{l+s+s1}{\PYZsq{}} \PY{c+c1}{\PYZsh{} Foursquare API version}
          \PY{n}{geolocator} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{n}{user\PYZus{}agent}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{neighborhood\PYZhy{}recommender}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    Let's try using foursquare to obtain results to make sure the connection
was successful

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}295}]:} \PY{n}{lat} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{40.1872}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{lng} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{44.5152}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{radius} \PY{o}{=} \PY{l+m+mi}{500}
          \PY{n}{LIMIT} \PY{o}{=} \PY{l+m+mi}{10}
          \PY{n}{url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://api.foursquare.com/v2/venues/explore?\PYZam{}client\PYZus{}id=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}client\PYZus{}secret=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}v=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}ll=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{,}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}radius=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}limit=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}
                      \PY{n}{CLIENT\PYZus{}ID}\PY{p}{,} 
                      \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{,} 
                      \PY{n}{VERSION}\PY{p}{,} 
                      \PY{n}{lat}\PY{p}{,} 
                      \PY{n}{lng}\PY{p}{,} 
                      \PY{n}{radius}\PY{p}{,} 
                      \PY{n}{LIMIT}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{} make the GET request}
          \PY{n}{results} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}\PY{o}{.}\PY{n}{json}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{response}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{groups}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{items}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{k}{if} \PY{n}{results}\PY{o}{!=}\PY{k+kc}{None}\PY{p}{:}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Connection was successful}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{k}{else}\PY{p}{:}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Something went wrong}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Connection was successful

    \end{Verbatim}

    \subsection{Now, let's scrape wikipedia pages for New York, Chicago and
LA
neighborhoods.}\label{now-lets-scrape-wikipedia-pages-for-new-york-chicago-and-la-neighborhoods.}

\section{Chicago}\label{chicago}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}357}]:} \PY{n}{Chicago\PYZus{}wiki\PYZus{}url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://en.wikipedia.org/wiki/List\PYZus{}of\PYZus{}neighborhoods\PYZus{}in\PYZus{}Chicago}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{NYC\PYZus{}wiki\PYZus{}url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://en.wikipedia.org/wiki/Neighborhoods\PYZus{}in\PYZus{}New\PYZus{}York\PYZus{}City}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{LA\PYZus{}wiki\PYZus{}url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://en.wikipedia.org/wiki/List\PYZus{}of\PYZus{}districts\PYZus{}and\PYZus{}neighborhoods\PYZus{}of\PYZus{}Los\PYZus{}Angeles}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}358}]:} \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}html}\PY{p}{(}\PY{n}{Chicago\PYZus{}wiki\PYZus{}url}\PY{p}{,} \PY{n}{match}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Woodlawn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)} \PY{c+c1}{\PYZsh{}Drop the community area col}
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)} \PY{c+c1}{\PYZsh{}Drop the first row that shouldve been the header}
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)} \PY{c+c1}{\PYZsh{}Rename the columns}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}359}]:} \PY{c+c1}{\PYZsh{}Get the latitude and longitude of the neighborhoods}
          \PY{n}{geolocator} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{n}{user\PYZus{}agent}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{neighborhood\PYZhy{}recommender}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n}{lats} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{longs} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{got\PYZus{}none} \PY{o}{=} \PY{p}{[}\PY{p}{]} \PY{c+c1}{\PYZsh{}the list of neighborhoods we got none for}
          \PY{n}{got\PYZus{}none\PYZus{}ind} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{neighb} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{neighb}\PY{p}{)}
              \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(} \PY{n}{neighb} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
              \PY{k}{if} \PY{n}{location} \PY{o}{!=} \PY{k+kc}{None}\PY{p}{:}
                  \PY{n}{lats}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{)}
                  \PY{n}{longs}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{)}
              \PY{k}{else}\PY{p}{:}
                  \PY{n}{got\PYZus{}none}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{neighb}\PY{p}{)}
                  \PY{n}{got\PYZus{}none\PYZus{}ind}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{i}\PY{p}{)}
                  \PY{n}{lats}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{)}
                  \PY{n}{longs}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{)}
              \PY{n}{clear\PYZus{}output}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}360}]:} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{lats}
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{longs}
\end{Verbatim}


    Sometimes geopy cant obtain latitude and longitude values. I explore
those neighborhoods further below. Looks like a small change in the name
can often fix the issue. If it doesnt work, I'll find the location
manually or drop the row.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}361}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{List of neighborhoods with no location}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{got\PYZus{}none}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
List of neighborhoods with no location ['Ashburn Estates', 'Belmont Heights', 'Cottage Grove Heights', 'Irving Woods', 'Jackson Park Highlands', 'Lakewood / Balmoral', 'Legends South (Robert Taylor Homes)', 'Margate Park', 'Polish Downtown', 'Ranch Triangle', "River's Edge", "Saint Ben's", 'Sheffield Neighbors', 'Sheridan Station Corridor', "Talley's Corner", 'Wacławowo', 'West Chesterfield', 'Wrightwood Neighbors']

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}362}]:} \PY{c+c1}{\PYZsh{}Drop the indices we got none for }
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{got\PYZus{}none\PYZus{}ind}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}Chicago\PYZus{}neighborhoods.reset\PYZus{}index(inplace=True, drop=True)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}363}]:} \PY{c+c1}{\PYZsh{}Add some of the neighborhoods I could recover locations for}
          \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cottage Grove, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cottage Grove}\PY{l+s+s1}{\PYZsq{}} \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jackson Park, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jackson Park}\PY{l+s+s1}{\PYZsq{}} \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lakewood, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lakewood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Balmoral, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Balmoral}\PY{l+s+s1}{\PYZsq{}} \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wrightwood, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wrightwood}\PY{l+s+s1}{\PYZsq{}} \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}364}]:} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}364}]:}       Neighborhood   Latitude  Longitude
          0      Albany Park  41.971937 -87.716174
          1  Altgeld Gardens  41.654864 -87.600446
          2    Andersonville  41.977139 -87.669273
          3   Archer Heights  41.811422 -87.726165
          4    Armour Square  41.840033 -87.633107
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}365}]:} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}365}]:} (233, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}366}]:} \PY{n}{chi\PYZus{}location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chicago, IL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}367}]:} \PY{c+c1}{\PYZsh{} create map of Toronto using latitude and longitude values}
          \PY{n}{map\PYZus{}chicago} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{chi\PYZus{}location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{n}{chi\PYZus{}location}\PY{o}{.}\PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{neighborhood} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{label}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3186cc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}chicago}\PY{p}{)}  
              
          \PY{n}{map\PYZus{}chicago}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}367}]:} <folium.folium.Map at 0x1a60d206470>
\end{Verbatim}
            
    \subsection{When we zoom in, we can see that some of the neighborhoods
are not actually in Chicago. This is either a result of geopy's errors
or a mistake from scraping neighborhood names. I'm fixing that
below.}\label{when-we-zoom-in-we-can-see-that-some-of-the-neighborhoods-are-not-actually-in-chicago.-this-is-either-a-result-of-geopys-errors-or-a-mistake-from-scraping-neighborhood-names.-im-fixing-that-below.}

I did so by going through the map and checking out the neighborhoods
outside of chicago one by one. Some of them were just duplicated of
neighborhoods with slightly different names or were names of residential
properties instead of neighborhoods. Those I dropped. The others I got
the location of by doing a google search or specifying the address more
properly.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}368}]:} \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Central Station}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}369}]:} \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{River North}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{loc} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{River North, Chicago, IL, USA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{River North}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{loc}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{loc}\PY{o}{.}\PY{n}{longitude}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{University Village}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Old Town Triangle}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{K\PYZhy{}Town}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lincoln Square}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lincoln Square}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{41.976049}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mf}{87.7079486}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Heart of Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Big Oaks}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Big Oaks}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{41.9992963}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mf}{87.7540899}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chrysler Village}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chrysler Village}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{41.7800088}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mf}{87.7405553}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Old Town}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Old Town}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{41.9111221}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mf}{87.6492029}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fifth City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fifth City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{41.8776055}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mf}{87.7152837}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{New Eastside}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Museum Campus}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{Chicago\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}370}]:} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}370}]:}       Neighborhood   Latitude  Longitude
          0      Albany Park  41.971937 -87.716174
          1  Altgeld Gardens  41.654864 -87.600446
          2    Andersonville  41.977139 -87.669273
          3   Archer Heights  41.811422 -87.726165
          4    Armour Square  41.840033 -87.633107
\end{Verbatim}
            
    \section{Let's try this again.}\label{lets-try-this-again.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}372}]:} \PY{c+c1}{\PYZsh{} create map of Toronto using latitude and longitude values}
          \PY{n}{map\PYZus{}chicago} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{chi\PYZus{}location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{n}{chi\PYZus{}location}\PY{o}{.}\PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{neighborhood} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{label}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3186cc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}chicago}\PY{p}{)}  
              
          \PY{n}{map\PYZus{}chicago}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}372}]:} <folium.folium.Map at 0x1a60d6b9cc0>
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}373}]:} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chicago\PYZus{}neighborhoods.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \section{NYC}\label{nyc}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}374}]:} \PY{n}{NYC} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}html}\PY{p}{(}\PY{n}{NYC\PYZus{}wiki\PYZus{}url}\PY{p}{,} \PY{n}{match}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Arrochar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
          \PY{n}{NYC}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{NYC}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{60}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
          \PY{n}{NYC\PYZus{}neighborhoods}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}374}]:} Empty DataFrame
          Columns: [Neighborhood]
          Index: []
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}375}]:} \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n}{NYC}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{]}\PY{p}{:}
              \PY{n}{neighbs} \PY{o}{=} \PY{n}{n}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
              \PY{k}{for} \PY{n}{nb} \PY{o+ow}{in} \PY{n}{neighbs}\PY{p}{:}
                  \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{nb}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}376}]:} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}377}]:} \PY{n}{lats} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{longs} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{got\PYZus{}none} \PY{o}{=} \PY{p}{[}\PY{p}{]} \PY{c+c1}{\PYZsh{}the list of neighborhoods we got none for}
          \PY{n}{got\PYZus{}none\PYZus{}ind} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{neighb} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{neighb}\PY{p}{)}
              \PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(} \PY{n}{neighb} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, NYC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
              \PY{k}{if} \PY{n}{location} \PY{o}{!=} \PY{k+kc}{None}\PY{p}{:}
                  \PY{n}{lats}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{)}
                  \PY{n}{longs}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{)}
              \PY{k}{else}\PY{p}{:}
                  \PY{n}{got\PYZus{}none}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{neighb}\PY{p}{)}
                  \PY{n}{got\PYZus{}none\PYZus{}ind}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{i}\PY{p}{)}
                  \PY{n}{lats}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{)}
                  \PY{n}{longs}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{)}
              \PY{n}{clear\PYZus{}output}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}378}]:} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{lats}
          \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{longs}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}379}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{List of neighborhoods with no location}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{got\PYZus{}none}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
List of neighborhoods with no location ['Greenwood Heights', 'Hilltop Village', 'Kew Gardens Hills', 'Meiers Corners', 'Plum Beach', 'Prospect Lefferts Gardens', 'Van Cortlandt Village']

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}380}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
          \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{got\PYZus{}none\PYZus{}ind}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
(328, 3)
(321, 3)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}381}]:} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}382}]:} \PY{c+c1}{\PYZsh{}removing duplicates}
          \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{first}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}383}]:} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}383}]:} (305, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}384}]:} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC\PYZus{}neighborhoods.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}385}]:} \PY{n}{nyc\PYZus{}location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC, NY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}589}]:} \PY{c+c1}{\PYZsh{} create map of Toronto using latitude and longitude values}
          \PY{n}{map\PYZus{}nyc} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{nyc\PYZus{}location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{n}{nyc\PYZus{}location}\PY{o}{.}\PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{neighborhood} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, NYC}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{label}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3186cc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}nyc}\PY{p}{)}  
              
          \PY{n}{map\PYZus{}nyc}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}589}]:} <folium.folium.Map at 0x1a648b4fef0>
\end{Verbatim}
            
    \subsection{Same as before, cleaning out the neighborhoods that arent
actually in New
York}\label{same-as-before-cleaning-out-the-neighborhoods-that-arent-actually-in-new-york}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}390}]:} \PY{n}{drop} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Indian Village}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mount Hope}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Indian Village, New York City, New York, USA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n}{drop}\PY{p}{:}
              \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{n}{n}\PY{p}{]}
          \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{Neighborhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{New Hyde Park}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{New Hyde Park}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{40.7326609}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mf}{73.6948062}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{NYC\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}391}]:} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}391}]:}     Neighborhood   Latitude  Longitude
          0       Allerton  40.866111 -73.850556
          1  Alphabet City  40.725102 -73.979583
          2       Annadale  40.544550 -74.176532
          3  Arden Heights  40.557629 -74.188609
          4      Arlington  40.632326 -74.165144
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}393}]:} \PY{c+c1}{\PYZsh{} create map of Toronto using latitude and longitude values}
          \PY{n}{map\PYZus{}nyc} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{nyc\PYZus{}location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{n}{nyc\PYZus{}location}\PY{o}{.}\PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{neighborhood} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, NYC}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{label}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3186cc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}nyc}\PY{p}{)}  
              
          \PY{n}{map\PYZus{}nyc}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}393}]:} <folium.folium.Map at 0x1a60f2a3ba8>
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}404}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC, }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{NYC\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chicago, }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Chicago\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
NYC,  (303, 3)
Chicago,  (226, 3)

    \end{Verbatim}

    \section{Now that we have the list of neighborhoods and their locations,
it's time for some feature
extraction.}\label{now-that-we-have-the-list-of-neighborhoods-and-their-locations-its-time-for-some-feature-extraction.}

    \subsubsection{First we make a dataframes with
venues}\label{first-we-make-a-dataframes-with-venues}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}453}]:} \PY{c+c1}{\PYZsh{} function that extracts the category of the venue}
          \PY{k}{def} \PY{n+nf}{get\PYZus{}category\PYZus{}type}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
              \PY{k}{try}\PY{p}{:}
                  \PY{n}{categories\PYZus{}list} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{k}{except}\PY{p}{:}
                  \PY{n}{categories\PYZus{}list} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                  
              \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{categories\PYZus{}list}\PY{p}{)} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                  \PY{k}{return} \PY{k+kc}{None}
              \PY{k}{else}\PY{p}{:}
                  \PY{k}{return} \PY{n}{categories\PYZus{}list}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}454}]:} \PY{k}{def} \PY{n+nf}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{)}\PY{p}{:}
              \PY{n}{radius} \PY{o}{=} \PY{l+m+mi}{2000}
              \PY{n}{LIMIT} \PY{o}{=} \PY{l+m+mi}{500}
              \PY{n}{venues\PYZus{}list}\PY{o}{=}\PY{p}{[}\PY{p}{]}
              \PY{k}{for} \PY{n}{name}\PY{p}{,} \PY{n}{lat}\PY{p}{,} \PY{n}{lng} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{)}\PY{p}{:}
                  \PY{n+nb}{print}\PY{p}{(}\PY{n}{name}\PY{p}{)}
                      
                  \PY{c+c1}{\PYZsh{} create the API request URL}
                  \PY{n}{url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://api.foursquare.com/v2/venues/explore?\PYZam{}client\PYZus{}id=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}client\PYZus{}secret=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}v=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}ll=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{,}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}radius=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}limit=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}
                      \PY{n}{CLIENT\PYZus{}ID}\PY{p}{,} 
                      \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{,} 
                      \PY{n}{VERSION}\PY{p}{,} 
                      \PY{n}{lat}\PY{p}{,} 
                      \PY{n}{lng}\PY{p}{,} 
                      \PY{n}{radius}\PY{p}{,} 
                      \PY{n}{LIMIT}\PY{p}{)}
                      
                  \PY{c+c1}{\PYZsh{} make the GET request}
                  \PY{n}{results} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}\PY{o}{.}\PY{n}{json}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{response}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{groups}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{items}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                  
                  \PY{c+c1}{\PYZsh{} return only relevant information for each nearby venue}
                  \PY{n}{venues\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{[}\PY{p}{(}
                      \PY{n}{name}\PY{p}{,} 
                      \PY{n}{lat}\PY{p}{,} 
                      \PY{n}{lng}\PY{p}{,} 
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}  
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{results}\PY{p}{]}\PY{p}{)}
                  
                  \PY{n}{clear\PYZus{}output}\PY{p}{(}\PY{p}{)}
          
              \PY{n}{nearby\PYZus{}venues} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{n}{item} \PY{k}{for} \PY{n}{venue\PYZus{}list} \PY{o+ow}{in} \PY{n}{venues\PYZus{}list} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{venue\PYZus{}list}\PY{p}{]}\PY{p}{)}
              \PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{k}{return}\PY{p}{(}\PY{n}{nearby\PYZus{}venues}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}455}]:} \PY{n}{NYC\PYZus{}venues} \PY{o}{=} \PY{n}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{o}{=}\PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{n}{latitudes}\PY{o}{=}\PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{n}{longitudes}\PY{o}{=}\PY{n}{NYC\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                            \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}456}]:} \PY{n}{NYC\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{NYC\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, NYC}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{NYC\PYZus{}venues}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}456}]:}     Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \textbackslash{}
          0  Allerton, NYC              40.866111              -73.850556   
          1  Allerton, NYC              40.866111              -73.850556   
          2  Allerton, NYC              40.866111              -73.850556   
          3  Allerton, NYC              40.866111              -73.850556   
          4  Allerton, NYC              40.866111              -73.850556   
          
                            Venue  Venue Latitude  Venue Longitude      Venue Category  
          0     Sal \& Doms Bakery       40.865377       -73.855236        Dessert Shop  
          1           Nicks Pizza       40.870352       -73.846171         Pizza Place  
          2            Fratelli's       40.863019       -73.843607  Italian Restaurant  
          3  Gun Hill Brewing Co.       40.872139       -73.855698             Brewery  
          4    Four Seasons Nails       40.869402       -73.844527                 Spa  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}457}]:} \PY{n}{Chicago\PYZus{}venues} \PY{o}{=} \PY{n}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{o}{=}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{n}{latitudes}\PY{o}{=}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{n}{longitudes}\PY{o}{=}\PY{n}{Chicago\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                            \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}458}]:} \PY{n}{Chicago\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{Chicago\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, Chicago}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{Chicago\PYZus{}venues}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}458}]:}            Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \textbackslash{}
          0  Albany Park, Chicago              41.971937              -87.716174   
          1  Albany Park, Chicago              41.971937              -87.716174   
          2  Albany Park, Chicago              41.971937              -87.716174   
          3  Albany Park, Chicago              41.971937              -87.716174   
          4  Albany Park, Chicago              41.971937              -87.716174   
          
                                    Venue  Venue Latitude  Venue Longitude  \textbackslash{}
          0    Cairo Nights Hookah Lounge       41.975776       -87.715547   
          1                    Tre Kronor       41.975842       -87.711037   
          2                     Nighthawk       41.967974       -87.713415   
          3  Great Sea Chinese Restaurant       41.968496       -87.710678   
          4     Popeyes Louisiana Kitchen       41.968459       -87.713156   
          
                      Venue Category  
          0               Hookah Bar  
          1  Scandinavian Restaurant  
          2             Cocktail Bar  
          3       Chinese Restaurant  
          4      Fried Chicken Joint  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}459}]:} \PY{c+c1}{\PYZsh{} Putting all the venues together}
          \PY{n}{Venues} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{NYC\PYZus{}venues}\PY{p}{,} \PY{n}{Chicago\PYZus{}venues}\PY{p}{]}\PY{p}{)}
          \PY{n}{Venues}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}460}]:} \PY{c+c1}{\PYZsh{} one hot encoding}
          \PY{n}{onehot} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{Venues}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{prefix\PYZus{}sep}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{} add neighborhood column back to dataframe}
          \PY{n}{onehot}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{Venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} 
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}461}]:} \PY{n}{columns} \PY{o}{=} \PY{n}{onehot}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
          \PY{n}{columns}\PY{o}{.}\PY{n}{remove}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{columns}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}462}]:} \PY{n}{onehot} \PY{o}{=} \PY{n}{onehot}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{columns}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}463}]:} \PY{n}{onehot}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}463}]:}   City, Neighborhood  ATM  Accessories Store  Adult Boutique  \textbackslash{}
          0      Allerton, NYC    0                  0               0   
          1      Allerton, NYC    0                  0               0   
          2      Allerton, NYC    0                  0               0   
          3      Allerton, NYC    0                  0               0   
          4      Allerton, NYC    0                  0               0   
          
             Afghan Restaurant  African Restaurant  Airport  Airport Food Court  \textbackslash{}
          0                  0                   0        0                   0   
          1                  0                   0        0                   0   
          2                  0                   0        0                   0   
          3                  0                   0        0                   0   
          4                  0                   0        0                   0   
          
             Airport Gate  Airport Lounge     {\ldots}       Weight Loss Center  Whisky Bar  \textbackslash{}
          0             0               0     {\ldots}                        0           0   
          1             0               0     {\ldots}                        0           0   
          2             0               0     {\ldots}                        0           0   
          3             0               0     {\ldots}                        0           0   
          4             0               0     {\ldots}                        0           0   
          
             Wine Bar  Wine Shop  Winery  Wings Joint  Women's Store  Yoga Studio  Zoo  \textbackslash{}
          0         0          0       0            0              0            0    0   
          1         0          0       0            0              0            0    0   
          2         0          0       0            0              0            0    0   
          3         0          0       0            0              0            0    0   
          4         0          0       0            0              0            0    0   
          
             Zoo Exhibit  
          0            0  
          1            0  
          2            0  
          3            0  
          4            0  
          
          [5 rows x 487 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}464}]:} \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{onehot}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}465}]:} \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}465}]:}          City, Neighborhood  ATM  Accessories Store  Adult Boutique  \textbackslash{}
          0      Albany Park, Chicago    0                  0               0   
          1             Allerton, NYC    0                  0               0   
          2        Alphabet City, NYC    0                  0               0   
          3  Altgeld Gardens, Chicago    0                  0               0   
          4    Andersonville, Chicago    0                  0               0   
          
             Afghan Restaurant  African Restaurant  Airport  Airport Food Court  \textbackslash{}
          0                  1                   0        0                   0   
          1                  0                   0        0                   0   
          2                  0                   0        0                   0   
          3                  0                   0        0                   0   
          4                  0                   0        0                   0   
          
             Airport Gate  Airport Lounge     {\ldots}       Weight Loss Center  Whisky Bar  \textbackslash{}
          0             0               0     {\ldots}                        0           0   
          1             0               0     {\ldots}                        0           0   
          2             0               0     {\ldots}                        0           0   
          3             0               0     {\ldots}                        0           0   
          4             0               0     {\ldots}                        0           1   
          
             Wine Bar  Wine Shop  Winery  Wings Joint  Women's Store  Yoga Studio  Zoo  \textbackslash{}
          0         0          0       0            1              0            1    0   
          1         0          0       0            0              0            0    0   
          2         0          2       0            0              0            4    0   
          3         1          0       0            0              0            0    0   
          4         0          1       0            0              0            0    0   
          
             Zoo Exhibit  
          0            0  
          1            0  
          2            0  
          3            0  
          4            0  
          
          [5 rows x 487 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}466}]:} \PY{c+c1}{\PYZsh{} Saving this dataframe for convenience. Later I won\PYZsq{}t need to rerun the code to get to it }
          \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venues\PYZus{}grouped.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \subsection{Some of the categories are very specific (e.g. cafe and
coffee shop). Below, I merge a few of them together to get better
features}\label{some-of-the-categories-are-very-specific-e.g.-cafe-and-coffee-shop.-below-i-merge-a-few-of-them-together-to-get-better-features}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}467}]:} \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venues\PYZus{}grouped.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{header}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{index\PYZus{}col} \PY{o}{=} \PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}468}]:} \PY{n}{categories} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}
          \PY{n+nb}{print}\PY{p}{(}\PY{o}{*}\PY{n}{categories}\PY{p}{,} \PY{n}{sep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
ATM
Accessories Store
Adult Boutique
Afghan Restaurant
African Restaurant
Airport
Airport Food Court
Airport Gate
Airport Lounge
Airport Service
Airport Terminal
American Restaurant
Amphitheater
Animal Shelter
Antique Shop
Aquarium
Arcade
Arepa Restaurant
Argentinian Restaurant
Art Gallery
Art Museum
Arts \& Crafts Store
Arts \& Entertainment
Asian Restaurant
Athletics \& Sports
Auditorium
Australian Restaurant
Austrian Restaurant
Auto Garage
Auto Workshop
Automotive Shop
BBQ Joint
Baby Store
Bagel Shop
Bakery
Bank
Bar
Baseball Field
Baseball Stadium
Basketball Court
Basketball Stadium
Bath House
Bavarian Restaurant
Beach
Beach Bar
Bed \& Breakfast
Beer Bar
Beer Garden
Beer Store
Big Box Store
Bike Rental / Bike Share
Bike Shop
Bike Trail
Bistro
Board Shop
Boat or Ferry
Bookstore
Border Crossing
Botanical Garden
Boutique
Bowling Alley
Boxing Gym
Brazilian Restaurant
Breakfast Spot
Brewery
Bridge
Bubble Tea Shop
Buffet
Building
Burger Joint
Burmese Restaurant
Burrito Place
Bus Line
Bus Station
Bus Stop
Business Center
Business Service
Butcher
Cafeteria
Café
Cajun / Creole Restaurant
Cambodian Restaurant
Camera Store
Campground
Canal Lock
Candy Store
Cantonese Restaurant
Car Wash
Caribbean Restaurant
Carpet Store
Casino
Castle
Caucasian Restaurant
Cemetery
Check Cashing Service
Cheese Shop
Chinese Restaurant
Chiropractor
Chocolate Shop
Church
Circus
City Hall
Climbing Gym
Clothing Store
Club House
Cocktail Bar
Coffee Shop
College Academic Building
College Arts Building
College Basketball Court
College Cafeteria
College Gym
College Quad
College Rec Center
Colombian Restaurant
Comedy Club
Comfort Food Restaurant
Comic Shop
Community Center
Concert Hall
Construction \& Landscaping
Convenience Store
Convention Center
Cooking School
Cosmetics Shop
Coworking Space
Creperie
Cuban Restaurant
Cultural Center
Cupcake Shop
Currency Exchange
Cycle Studio
Czech Restaurant
Dance Studio
Daycare
Deli / Bodega
Department Store
Design Studio
Dessert Shop
Dim Sum Restaurant
Diner
Discount Store
Distillery
Distribution Center
Dive Bar
Doctor's Office
Dog Run
Donut Shop
Dosa Place
Drugstore
Dry Cleaner
Dumpling Restaurant
Duty-free Shop
Eastern European Restaurant
Egyptian Restaurant
Electronics Store
Elementary School
Empanada Restaurant
Ethiopian Restaurant
Event Service
Event Space
Exhibit
Eye Doctor
Fabric Shop
Factory
Falafel Restaurant
Farm
Farmers Market
Fast Food Restaurant
Field
Filipino Restaurant
Film Studio
Financial or Legal Service
Fish \& Chips Shop
Fish Market
Fishing Spot
Fishing Store
Flea Market
Floating Market
Flower Shop
Fondue Restaurant
Food
Food \& Drink Shop
Food Court
Food Service
Food Truck
Football Stadium
Fountain
French Restaurant
Fried Chicken Joint
Frozen Yogurt Shop
Fruit \& Vegetable Store
Furniture / Home Store
Gaming Cafe
Garden
Garden Center
Gas Station
Gastropub
Gay Bar
General Entertainment
General Travel
German Restaurant
Gift Shop
Gluten-free Restaurant
Go Kart Track
Golf Course
Golf Driving Range
Gourmet Shop
Government Building
Greek Restaurant
Grocery Store
Gym
Gym / Fitness Center
Gym Pool
Gymnastics Gym
Halal Restaurant
Harbor / Marina
Hardware Store
Hawaiian Restaurant
Health \& Beauty Service
Health Food Store
Heliport
Herbs \& Spices Store
High School
Hill
Himalayan Restaurant
Historic Site
History Museum
Hobby Shop
Hockey Arena
Home Service
Hookah Bar
Hostel
Hot Dog Joint
Hotel
Hotel Bar
Hotpot Restaurant
IT Services
Ice Cream Shop
Indian Restaurant
Indie Movie Theater
Indie Theater
Indonesian Restaurant
Indoor Play Area
Intersection
Irish Pub
Israeli Restaurant
Italian Restaurant
Japanese Restaurant
Jazz Club
Jewelry Store
Jewish Restaurant
Juice Bar
Karaoke Bar
Kebab Restaurant
Kids Store
Kitchen Supply Store
Kofte Place
Korean Restaurant
Kosher Restaurant
Lake
Latin American Restaurant
Laundromat
Laundry Service
Lawyer
Lebanese Restaurant
Library
Light Rail Station
Lighthouse
Lingerie Store
Liquor Store
Locksmith
Lounge
Mac \& Cheese Joint
Malay Restaurant
Market
Martial Arts Dojo
Massage Studio
Mattress Store
Medical Center
Mediterranean Restaurant
Memorial Site
Men's Store
Metro Station
Mexican Restaurant
Middle Eastern Restaurant
Military Base
Mini Golf
Miscellaneous Shop
Mobile Phone Shop
Modern Greek Restaurant
Molecular Gastronomy Restaurant
Monument / Landmark
Moroccan Restaurant
Motel
Motorcycle Shop
Movie Theater
Moving Target
Multiplex
Museum
Music School
Music Store
Music Venue
Nail Salon
National Park
Nature Preserve
Neighborhood
New American Restaurant
Newsstand
Nightclub
Nightlife Spot
Non-Profit
Noodle House
North Indian Restaurant
Opera House
Optical Shop
Organic Grocery
Other Great Outdoors
Other Nightlife
Other Repair Shop
Outdoor Sculpture
Outdoor Supply Store
Outdoors \& Recreation
Outlet Store
Paella Restaurant
Paintball Field
Pakistani Restaurant
Paper / Office Supplies Store
Park
Parking
Pastry Shop
Pawn Shop
Pedestrian Plaza
Performing Arts Venue
Persian Restaurant
Peruvian Restaurant
Pet Café
Pet Service
Pet Store
Pharmacy
Pie Shop
Pier
Piercing Parlor
Pilates Studio
Pizza Place
Planetarium
Playground
Plaza
Poke Place
Polish Restaurant
Pool
Pool Hall
Portuguese Restaurant
Post Office
Print Shop
Pub
Public Art
Racetrack
Ramen Restaurant
Record Shop
Recording Studio
Recreation Center
Rental Car Location
Rental Service
Reservoir
Residential Building (Apartment / Condo)
Resort
Rest Area
Restaurant
River
Road
Rock Club
Roof Deck
Russian Restaurant
Sake Bar
Salad Place
Salon / Barbershop
Sandwich Place
Sausage Shop
Scandinavian Restaurant
Scenic Lookout
School
Science Museum
Sculpture Garden
Seafood Restaurant
Shanghai Restaurant
Shipping Store
Shoe Store
Shop \& Service
Shopping Mall
Shopping Plaza
Skate Park
Skating Rink
Smoke Shop
Smoothie Shop
Snack Place
Soccer Field
Soccer Stadium
Social Club
Soup Place
South American Restaurant
Southern / Soul Food Restaurant
Souvenir Shop
Souvlaki Shop
Spa
Spanish Restaurant
Speakeasy
Sporting Goods Shop
Sports Bar
Sports Club
Sri Lankan Restaurant
Stables
Stadium
State / Provincial Park
Stationery Store
Steakhouse
Storage Facility
Street Art
Street Food Gathering
Strip Club
Student Center
Supermarket
Supplement Shop
Surf Spot
Sushi Restaurant
Szechuan Restaurant
TV Station
Taco Place
Taiwanese Restaurant
Tanning Salon
Tapas Restaurant
Tattoo Parlor
Taxi
Tea Room
Tech Startup
Tennis Court
Tennis Stadium
Tex-Mex Restaurant
Thai Restaurant
Theater
Theme Park
Theme Park Ride / Attraction
Theme Restaurant
Thrift / Vintage Store
Tibetan Restaurant
Tiki Bar
Toll Booth
Toll Plaza
Tour Provider
Tourist Information Center
Toy / Game Store
Track
Track Stadium
Trade School
Trail
Train
Train Station
Tram Station
Travel \& Transport
Tree
Turkish Restaurant
Udon Restaurant
Ukrainian Restaurant
Used Bookstore
Vacation Rental
Vape Store
Vegetarian / Vegan Restaurant
Venezuelan Restaurant
Veterinarian
Video Game Store
Video Store
Vietnamese Restaurant
Volleyball Court
Warehouse
Warehouse Store
Waterfront
Weight Loss Center
Whisky Bar
Wine Bar
Wine Shop
Winery
Wings Joint
Women's Store
Yoga Studio
Zoo
Zoo Exhibit

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}469}]:} \PY{k}{def} \PY{n+nf}{join\PYZus{}features}\PY{p}{(}\PY{n}{list\PYZus{}to\PYZus{}join}\PY{p}{,} \PY{n}{new\PYZus{}name}\PY{p}{,} \PY{n}{df}\PY{p}{)}\PY{p}{:}
              \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{n}{list\PYZus{}to\PYZus{}join}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
              \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{list\PYZus{}to\PYZus{}join}\PY{p}{)}
              \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{new\PYZus{}name}\PY{p}{\PYZcb{}}\PY{p}{)}
              \PY{k}{return} \PY{n}{df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}470}]:} \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wine Bar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wine Shop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}471}]:} \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Airport Food Court}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Airport Lounge}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Airport Service}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Airport Terminal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Airport}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}472}]:} \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Art Gallery}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Art Museum}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Performing Arts Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Public Art}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Street Art}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Art}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}473}]:} \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Baseball Field}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Baseball Stadium}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Baseball}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Basketball Court}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Basketball Stadium}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Basketball}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Beer Bar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Beer Garden}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Brewery}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Beer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bike Rental / Bike Share}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bike Shop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bike Shop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bus Station}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bus Stop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bus Stop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Café}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coffee Shop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cofee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Soccer Field}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Soccer Stadium}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Soccer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tennis Court}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tennis Stadium}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tennis}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{join\PYZus{}features}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zoo}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zoo Exhibit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zoo}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Venues\PYZus{}grouped}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}474}]:} \PY{c+c1}{\PYZsh{}Sorting the columns}
          \PY{n}{columns} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
          \PY{n}{columns}\PY{o}{.}\PY{n}{remove}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{columns}\PY{o}{.}\PY{n}{sort}\PY{p}{(}\PY{p}{)}
          \PY{n}{columns}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{Venues\PYZus{}grouped} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{columns}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}475}]:} \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}475}]:} (528, 471)
\end{Verbatim}
            
    \section{K-means}\label{k-means}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}476}]:} \PY{n}{kclusters} \PY{o}{=} \PY{l+m+mi}{10}
          
          \PY{n}{Venues\PYZus{}grouped\PYZus{}clustering} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{} run k\PYZhy{}means clustering}
          \PY{n}{kmeans} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters}\PY{o}{=}\PY{n}{kclusters}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{Venues\PYZus{}grouped\PYZus{}clustering}\PY{p}{)}
          \PY{n}{kmeans}\PY{o}{.}\PY{n}{labels\PYZus{}}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{50}\PY{p}{]} 
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}476}]:} array([7, 5, 0, 1, 6, 5, 8, 1, 1, 1, 5, 1, 1, 6, 4, 6, 4, 7, 7, 4, 2, 0,
                 5, 5, 0, 5, 1, 5, 6, 1, 5, 7, 5, 1, 5, 6, 6, 6, 5, 5, 5, 8, 8, 8,
                 1, 1, 6, 5, 6, 6])
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}477}]:} \PY{o}{\PYZpc{}\PYZpc{}capture}
          \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
          \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{kmeans}\PY{o}{.}\PY{n}{labels\PYZus{}}
          \PY{n}{temp\PYZus{}df} \PY{o}{=} \PY{n}{Venues}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
          \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{temp\PYZus{}df}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
          \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{temp\PYZus{}df}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}478}]:} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}478}]:}          City, Neighborhood  Cluster label   Latitude  Longitude
          0      Albany Park, Chicago              7  41.971937 -87.716174
          1             Allerton, NYC              5  40.866111 -73.850556
          2        Alphabet City, NYC              0  40.725102 -73.979583
          3  Altgeld Gardens, Chicago              1  41.654864 -87.600446
          4    Andersonville, Chicago              6  41.977139 -87.669273
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}479}]:} \PY{n}{cmap} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+m+mi}{0}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yellow}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lightsteelblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{7}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{deeppink}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{purple}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{plum}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
          \PY{n}{colors\PYZus{}array} \PY{o}{=} \PY{p}{[}\PY{n}{cmap}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \section{The map below shows the clusters. This is a good tool for
freely exploring the neighborhoods. The ones with the same colors are
likely to be similar. Zoom to
explore}\label{the-map-below-shows-the-clusters.-this-is-a-good-tool-for-freely-exploring-the-neighborhoods.-the-ones-with-the-same-colors-are-likely-to-be-similar.-zoom-to-explore}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}590}]:} \PY{c+c1}{\PYZsh{} create map}
          \PY{n}{latitude} \PY{o}{=} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
          \PY{n}{longitude} \PY{o}{=} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
          \PY{n}{map\PYZus{}clusters} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{} add markers to the map}
          \PY{n}{markers\PYZus{}colors} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{,} \PY{n}{poi}\PY{p}{,} \PY{n}{cluster} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{poi}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ Cluster }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{cluster}\PY{p}{)}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{color}\PY{o}{=}\PY{n}{cmap}\PY{p}{[}\PY{n}{cluster}\PY{p}{]}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{n}{cmap}\PY{p}{[}\PY{n}{cluster}\PY{p}{]}\PY{p}{,}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}clusters}\PY{p}{)}
                 
          \PY{n}{map\PYZus{}clusters}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}590}]:} <folium.folium.Map at 0x1a649e8b7b8>
\end{Verbatim}
            
    \subsection{While this is a good tool for freely comparing the
neighborhoods, what if I'm specifically interested in finding the
neighborhoods most similar to the ones I like? We can use a content
based recommender for that. We will use the cosine similarity metric
between neighborhoods to give most similar neighborhoods to the ones of
interest.}\label{while-this-is-a-good-tool-for-freely-comparing-the-neighborhoods-what-if-im-specifically-interested-in-finding-the-neighborhoods-most-similar-to-the-ones-i-like-we-can-use-a-content-based-recommender-for-that.-we-will-use-the-cosine-similarity-metric-between-neighborhoods-to-give-most-similar-neighborhoods-to-the-ones-of-interest.}

    \section{Content Based Recommender}\label{content-based-recommender}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}481}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics}\PY{n+nn}{.}\PY{n+nn}{pairwise} \PY{k}{import} \PY{n}{cosine\PYZus{}similarity}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}485}]:} \PY{n}{matrix} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped\PYZus{}clustering}\PY{o}{.}\PY{n}{values}
          \PY{n}{cosine\PYZus{}matrix} \PY{o}{=} \PY{n}{cosine\PYZus{}similarity}\PY{p}{(}\PY{n}{matrix}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}490}]:} \PY{n}{cosine\PYZus{}matrix}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}490}]:} array([[1.        , 0.46571506, 0.46408228, {\ldots}, 0.52071918, 0.47140452,
                  0.37798038],
                 [0.46571506, 1.        , 0.44581105, {\ldots}, 0.54699922, 0.57516521,
                  0.48382573],
                 [0.46408228, 0.44581105, 1.        , {\ldots}, 0.30418306, 0.53956374,
                  0.58909764],
                 {\ldots},
                 [0.52071918, 0.54699922, 0.30418306, {\ldots}, 1.        , 0.36401992,
                  0.32133306],
                 [0.47140452, 0.57516521, 0.53956374, {\ldots}, 0.36401992, 1.        ,
                  0.63998275],
                 [0.37798038, 0.48382573, 0.58909764, {\ldots}, 0.32133306, 0.63998275,
                  1.        ]])
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}493}]:} \PY{n}{Similarity} \PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data}\PY{o}{=} \PY{n}{cosine\PYZus{}matrix}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{n}{Venues\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}495}]:} \PY{n}{Similarity}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{Venues\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}498}]:} \PY{n}{Similarity}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}498}]:} City, Neighborhood        Albany Park, Chicago  Allerton, NYC  \textbackslash{}
          City, Neighborhood                                              
          Albany Park, Chicago                  1.000000       0.465715   
          Allerton, NYC                         0.465715       1.000000   
          Alphabet City, NYC                    0.464082       0.445811   
          Altgeld Gardens, Chicago              0.201843       0.126428   
          Andersonville, Chicago                0.604346       0.390372   
          
          City, Neighborhood        Alphabet City, NYC  Altgeld Gardens, Chicago  \textbackslash{}
          City, Neighborhood                                                       
          Albany Park, Chicago                0.464082                  0.201843   
          Allerton, NYC                       0.445811                  0.126428   
          Alphabet City, NYC                  1.000000                  0.176863   
          Altgeld Gardens, Chicago            0.176863                  1.000000   
          Andersonville, Chicago              0.444500                  0.121854   
          
          City, Neighborhood        Andersonville, Chicago  Annadale, NYC  \textbackslash{}
          City, Neighborhood                                                
          Albany Park, Chicago                    0.604346       0.421637   
          Allerton, NYC                           0.390372       0.677098   
          Alphabet City, NYC                      0.444500       0.418042   
          Altgeld Gardens, Chicago                0.121854       0.152318   
          Andersonville, Chicago                  1.000000       0.333333   
          
          City, Neighborhood        Archer Heights, Chicago  Arden Heights, NYC  \textbackslash{}
          City, Neighborhood                                                      
          Albany Park, Chicago                     0.422816            0.483046   
          Allerton, NYC                            0.500030            0.686772   
          Alphabet City, NYC                       0.281322            0.415705   
          Altgeld Gardens, Chicago                 0.156326            0.113961   
          Andersonville, Chicago                   0.293355            0.378244   
          
          City, Neighborhood        Arlington, NYC  Armour Square, Chicago  \textbackslash{}
          City, Neighborhood                                                 
          Albany Park, Chicago            0.341802                0.611871   
          Allerton, NYC                   0.490630                0.458570   
          Alphabet City, NYC              0.231193                0.375688   
          Altgeld Gardens, Chicago        0.118835                0.072871   
          Andersonville, Chicago          0.221863                0.466052   
          
          City, Neighborhood             {\ldots}        Windsor Terrace, NYC  Wingate, NYC  \textbackslash{}
          City, Neighborhood             {\ldots}                                             
          Albany Park, Chicago           {\ldots}                    0.560541      0.360894   
          Allerton, NYC                  {\ldots}                    0.412933      0.540971   
          Alphabet City, NYC             {\ldots}                    0.577663      0.385027   
          Altgeld Gardens, Chicago       {\ldots}                    0.261991      0.122839   
          Andersonville, Chicago         {\ldots}                    0.515053      0.339760   
          
          City, Neighborhood        Woodhaven, NYC  Woodlawn, Chicago  Woodlawn, NYC  \textbackslash{}
          City, Neighborhood                                                           
          Albany Park, Chicago            0.425418           0.566423       0.329846   
          Allerton, NYC                   0.696972           0.366508       0.733269   
          Alphabet City, NYC              0.296743           0.445533       0.343061   
          Altgeld Gardens, Chicago        0.095083           0.218103       0.041902   
          Andersonville, Chicago          0.224552           0.448261       0.171170   
          
          City, Neighborhood        Woodrow, NYC  Woodside, NYC  Wrightwood, Chicago  \textbackslash{}
          City, Neighborhood                                                           
          Albany Park, Chicago          0.449560       0.425762             0.520719   
          Allerton, NYC                 0.691403       0.333354             0.546999   
          Alphabet City, NYC            0.342672       0.310891             0.304183   
          Altgeld Gardens, Chicago      0.159091       0.079900             0.254073   
          Andersonville, Chicago        0.313340       0.388614             0.265711   
          
          City, Neighborhood        Wrigleyville, Chicago  Yorkville, NYC  
          City, Neighborhood                                               
          Albany Park, Chicago                   0.471405        0.377980  
          Allerton, NYC                          0.575165        0.483826  
          Alphabet City, NYC                     0.539564        0.589098  
          Altgeld Gardens, Chicago               0.097312        0.171802  
          Andersonville, Chicago                 0.518022        0.440828  
          
          [5 rows x 528 columns]
\end{Verbatim}
            
    \section{Now, in order to see most similar neighborhoods, all we have to
do is pick a row (or a column) and sort the
values.}\label{now-in-order-to-see-most-similar-neighborhoods-all-we-have-to-do-is-pick-a-row-or-a-column-and-sort-the-values.}

For instance, I really like Wicker Park in Chicago

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}503}]:} \PY{n}{ranked} \PY{o}{=} \PY{n}{Similarity}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wicker Park, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wicker Park, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
\end{Verbatim}


    This is the list of neighborhoods in both Chicago and New York that are
similar to it.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}505}]:} \PY{n}{ranked}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}505}]:} City, Neighborhood                         Wicker Park, Chicago
          City, Neighborhood                                             
          Wicker Park, Chicago                                   1.000000
          Bucktown, Chicago                                      0.933411
          Pulaski Park, Chicago                                  0.835827
          West Town, Chicago                                     0.809142
          Noble Square, Chicago                                  0.773122
          Nortown, Chicago                                       0.761478
          Ukrainian Village, Chicago                             0.710407
          Graceland West, Chicago                                0.693046
          Lake View, Chicago                                     0.668332
          Lake View East, Chicago                                0.668332
          Lakewood, Chicago                                      0.668022
          Wrigleyville, Chicago                                  0.659925
          West Lakeview, Chicago                                 0.656042
          Buena Park, Chicago                                    0.656042
          Goose Island, Chicago                                  0.655876
          West DePaul, Chicago                                   0.653183
          North Center, Chicago                                  0.650693
          Bedford-Stuyvesant, NYC                                0.647148
          Stuyvesant Heights, NYC                                0.644714
          Little Italy, NYC                                      0.638524
          Chinatown, NYC                                         0.635123
          Roscoe Village, Chicago                                0.634494
          Smith Park, Chicago                                    0.632426
          Greenpoint, NYC                                        0.630176
          Fish Bay, NYC                                          0.627133
          Clinton Hill, NYC                                      0.627115
          Mott Haven, NYC                                        0.626850
          Boystown, Chicago                                      0.625051
          Steinway, NYC                                          0.620782
          Glendale, NYC                                          0.619521
          Greenwich Village, NYC                                 0.619445
          Ravenswood Manor, Chicago                              0.618479
          Long Island City, NYC                                  0.617895
          Bowmanville, Chicago                                   0.614837
          Merchant Park, Chicago                                 0.612381
          Kosciuszko Park, Chicago                               0.612039
          Palmer Square, Chicago                                 0.610839
          Logan Square, Chicago                                  0.610759
          Rosehill, Chicago                                      0.607927
          Parkview, Chicago                                      0.604529
          Park Slope, NYC                                        0.604248
          Williamsburg, NYC                                      0.600950
          Livingston, NYC                                        0.598592
          East Flushing, NYC                                     0.597138
          Old Norwood, Chicago                                   0.596913
          East Village, NYC                                      0.595754
          Belmont Terrace, Chicago                               0.595579
          Belmont Gardens, Chicago                               0.595579
          Belmont Central, Chicago                               0.595579
          Hunters Point, NYC                                     0.594671
          Ditmars, NYC                                           0.594570
          Weeksville, NYC                                        0.594165
          Spanish Harlem, NYC                                    0.593264
          Humboldt Park, Chicago                                 0.591476
          West Humboldt Park, Chicago                            0.591476
          SoHo, NYC                                              0.590802
          Avondale Gardens, Chicago                              0.590772
          Avondale, Chicago                                      0.590772
          Jackowo, Chicago                                       0.590772
          Ravenswood Gardens, Chicago                            0.590132
          Crown Heights, NYC                                     0.590119
          Yorkville, NYC                                         0.589775
          Fort Hamilton, NYC                                     0.588554
          Old Town, Chicago                                      0.587177
          Bushwick, NYC                                          0.583333
          Near West Side, Chicago                                0.581701
          Ocean Hill, NYC                                        0.581588
          West Village, NYC                                      0.580019
          NoHo, NYC                                              0.579578
          Lincoln Square, Chicago                                0.578407
          Edgewater Glen, Chicago                                0.577954
          Fresh Pond, NYC                                        0.577568
          Carroll Gardens, NYC                                   0.577539
          Fort Greene, NYC                                       0.575320
          Lower East Side, NYC                                   0.574271
          Boerum Hill, NYC                                       0.574032
          Sunnyside, NYC                                         0.573840
          Sheridan Park, Chicago                                 0.573748
          Kew Gardens, NYC                                       0.573629
          Edison Park, Chicago                                   0.572765
          Bay Ridge, NYC                                         0.571684
          East Harlem, NYC                                       0.571501
          Forest Hills, NYC                                      0.568607
          Edgewater, Chicago                                     0.568548
          Edgewater Beach, Chicago                               0.568548
          Two Bridges, NYC                                       0.567701
          Hamilton Heights, NYC                                  0.567206
          Budlong Woods, Chicago                                 0.566011
          Portage Park, Chicago                                  0.565988
          Polish Village, Chicago                                0.565650
          Bronx River, NYC                                       0.565600
          Cabrini–Green, Chicago                                 0.564910
          Fieldston, NYC                                         0.564573
          Alphabet City, NYC                                     0.563382
          Randall's Island, NYC                                  0.562804
          Bensonhurst, NYC                                       0.559563
          Bayside, NYC                                           0.559100
          Madison, NYC                                           0.558481
          Oakland Gardens, NYC                                   0.558287
          Kingsbridge, NYC                                       0.557626
          Marble Hill, NYC                                       0.557487
          Red Hook, NYC                                          0.555273
          Spuyten Duyvil, NYC                                    0.554118
          Morris Park, NYC                                       0.553786
          Little Italy, Chicago                                  0.553630
          Brooklyn Navy Yard, NYC                                0.552864
          Sunset Park, NYC                                       0.551941
          Eden Green, Chicago                                    0.550498
          Ravenswood, Chicago                                    0.549977
          South East Ravenswood, Chicago                         0.549977
          Greektown, Chicago                                     0.548643
          West Rogers Park, Chicago                              0.548141
          Rogers Park, Chicago                                   0.548141
          Jackson Park, Chicago                                  0.547791
          Gowanus, NYC                                           0.546365
          Wards Island, NYC                                      0.544694
          Maspeth, NYC                                           0.544591
          Windsor Terrace, NYC                                   0.544412
          Linden Hill, NYC                                       0.542987
          Pelham Bay, NYC                                        0.542594
          Pelham Gardens, NYC                                    0.542594
          Kensington, NYC                                        0.541812
          Baychester, NYC                                        0.541609
          Loyola, Chicago                                        0.541424
          Kingsbridge Heights, NYC                               0.540329
          Riverdale, NYC                                         0.539564
          Park West, Chicago                                     0.536955
          Pelham Parkway, NYC                                    0.536587
          Waterside Plaza, NYC                                   0.536290
          Old Irving Park, Chicago                               0.536290
          Irving Park, Chicago                                   0.536290
          Ridgewood, NYC                                         0.535923
          North Mayfair, Chicago                                 0.535075
          Mayfair, Chicago                                       0.535075
          East Hyde Park, Chicago                                0.534347
          Hyde Park, Chicago                                     0.534347
          Fulton Mall, NYC                                       0.534085
          Gold Coast, Chicago                                    0.531644
          Edgebrook, Chicago                                     0.530679
          University Heights, NYC                                0.530341
          River North, Chicago                                   0.527681
          Westchester Square, NYC                                0.527321
          Middle Village, NYC                                    0.526861
          Stuyvesant Town, NYC                                   0.526487
          Andersonville, Chicago                                 0.524263
          Cobble Hill, NYC                                       0.524017
          Throgs Neck, NYC                                       0.522855
          Ravenswood, NYC                                        0.522303
          Greenridge, NYC                                        0.522223
          Albany Park, Chicago                                   0.521706
          Clarendon Park, Chicago                                0.520803
          Borough Park, NYC                                      0.520686
          Brooklyn Heights, NYC                                  0.520412
          Bedford Park, NYC                                      0.520263
          Lincoln Park, Chicago                                  0.518967
          Cottage Grove, Chicago                                 0.518832
          Washington Heights, NYC                                0.518628
          Kilbourn Park, Chicago                                 0.517827
          New Hyde Park, NYC                                     0.516991
          Dearborn Park, Chicago                                 0.515683
          Concourse, NYC                                         0.514457
          Fulton River District, Chicago                         0.513792
          North Park, Chicago                                    0.512771
          Uptown, Chicago                                        0.512182
          Tri-Taylor, Chicago                                    0.512016
          Ocean Parkway, NYC                                     0.511906
          Dyker Heights, NYC                                     0.511157
          Bath Beach, NYC                                        0.511069
          Bathgate, NYC                                          0.511069
          Harlem, NYC                                            0.510488
          New Brighton, NYC                                      0.509997
          Auburndale, NYC                                        0.509231
          Queensboro Hill, NYC                                   0.508421
          Prospect Heights, NYC                                  0.508016
          Little Neck, NYC                                       0.508001
          Eltingville, NYC                                       0.507838
          Kenwood, Chicago                                       0.506235
          North Kenwood, Chicago                                 0.506235
          Astoria, NYC                                           0.505649
          Old Astoria, NYC                                       0.505649
          Kips Bay, NYC                                          0.504255
          Inwood, NYC                                            0.504066
          Morningside Heights, NYC                               0.501149
          Douglaston, NYC                                        0.500399
          Union Ridge, Chicago                                   0.499959
          Allerton, NYC                                          0.499246
          Pleasant Plains, NYC                                   0.499106
          Lenox Hill, NYC                                        0.498048
          Near North Side, Chicago                               0.497656
          Bruckner, NYC                                          0.497122
          Rugby, NYC                                             0.496967
          Dumbo, NYC                                             0.496016
          Richmond Valley, NYC                                   0.495931
          Kings Bay, NYC                                         0.495807
          Little Village, Chicago                                0.494576
          The Island, Chicago                                    0.494576
          West Loop, Chicago                                     0.494576
          East Village, Chicago                                  0.494576
          The Loop, Chicago                                      0.494576
          The Villa, Chicago                                     0.494576
          River West, Chicago                                    0.494576
          Rose Hill, NYC                                         0.492833
          Ditmas Village, NYC                                    0.491880
          Parkchester, NYC                                       0.491213
          Laconia, NYC                                           0.490591
          Woodlawn, Chicago                                      0.489959
          West Woodlawn, Chicago                                 0.489959
          Peter Cooper Village, NYC                              0.489816
          Rego Park, NYC                                         0.489048
          Jefferson Park, Chicago                                0.488157
          Polo Grounds, NYC                                      0.488157
          Longwood Manor, Chicago                                0.486090
          Tudor City, NYC                                        0.485948
          Tudor Village, NYC                                     0.485948
          Annadale, NYC                                          0.485769
          Great Kills, NYC                                       0.484603
          Midwood, NYC                                           0.484150
          Printer's Row, Chicago                                 0.482535
          Midland Beach, NYC                                     0.481947
          Bellerose, NYC                                         0.481878
          Tribeca, NYC                                           0.481532
          Manhattanville, NYC                                    0.480982
          Kennedy Park, Chicago                                  0.480982
          Lindenwood, NYC                                        0.480811
          Richmond Hill, NYC                                     0.480704
          Fulton Ferry, NYC                                      0.480219
          Highland Park, NYC                                     0.479276
          Flatlands, NYC                                         0.479218
          West Morgan Park, Chicago                              0.477308
          Morgan Park, Chicago                                   0.477308
          Peterson Park, Chicago                                 0.475752
          Grant City, NYC                                        0.475374
          Fordham, NYC                                           0.474345
          Queensbridge, NYC                                      0.473582
          Gramercy Park, NYC                                     0.473564
          Egbertville, NYC                                       0.470929
          Hollis Hills, NYC                                      0.470766
          Old Edgebrook, Chicago                                 0.469326
          Kings Highway, NYC                                     0.468569
          Bronzeville, Chicago                                   0.468224
          Dunning, Chicago                                       0.466871
          Mill Island, NYC                                       0.466648
          Garden Bay, NYC                                        0.466648
          Wildwood, Chicago                                      0.463835
          Farragut, NYC                                          0.462531
          Randall Manor, NYC                                     0.460279
          Oriole Park, Chicago                                   0.459246
          Flatbush, NYC                                          0.459177
          Illinois Medical District, Chicago                     0.458868
          Fresh Meadows, NYC                                     0.457905
          Vinegar Hill, NYC                                      0.457835
          Bulls Head, NYC                                        0.456943
          Briarwood, NYC                                         0.456015
          Tompkinsville, NYC                                     0.455073
          New Dorp, NYC                                          0.454920
          Cunningham Heights, NYC                                0.454848
          East Pilsen, Chicago                                   0.453976
          Pilsen, Chicago                                        0.453976
          Norwood Park East, Chicago                             0.452985
          Norwood Park West, Chicago                             0.452985
          Battery Park City, NYC                                 0.452451
          Brighton Beach, NYC                                    0.449951
          Homecrest, NYC                                         0.448469
          St. George, NYC                                        0.448322
          Arden Heights, NYC                                     0.448014
          Wentworth Gardens, Chicago                             0.447274
          Stateway Gardens, Chicago                              0.444408
          Sheepshead Bay, NYC                                    0.442867
          Charleston, NYC                                        0.440803
          Schorsch Forest View, Chicago                          0.438482
          Schorsch Village, Chicago                              0.438482
          Bridgeport, Chicago                                    0.438424
          Old Town, NYC                                          0.438150
          Glen Oaks, NYC                                         0.437755
          Bronxdale, NYC                                         0.437734
          Manhattan Valley, NYC                                  0.437445
          Roosevelt Island, NYC                                  0.437324
          Hollywood Park, Chicago                                0.437130
          Manhattan Beach, NYC                                   0.436014
          Howard Beach, NYC                                      0.435522
          Ozone Park, NYC                                        0.434975
          Highbridge, NYC                                        0.434868
          Grasmere, NYC                                          0.433027
          Westerleigh, NYC                                       0.432787
          Washington Park, Chicago                               0.430452
          Prairie Avenue Historic District, Chicago              0.429884
          Murray Hill, NYC                                       0.429594
          College Point, NYC                                     0.428838
          Chelsea, NYC                                           0.428625
          Mapleton, NYC                                          0.428093
          Oakwood, NYC                                           0.427178
          Beverly, Chicago                                       0.425971
          East Beverly, Chicago                                  0.425971
          West Beverly, Chicago                                  0.425971
          Beverly View, Chicago                                  0.425971
          Dearborn Homes, Chicago                                0.425612
          South Loop, Chicago                                    0.425046
          Locust Point, NYC                                      0.424208
          Utopia, NYC                                            0.422188
          Turtle Bay, NYC                                        0.421067
          Lower West Side, Chicago                               0.420424
          Silver Beach, NYC                                      0.420140
          Stapleton, NYC                                         0.420013
          Concord, NYC                                           0.419510
          Grymes Hill, NYC                                       0.419038
          Tottenville, NYC                                       0.418833
          Armour Square, Chicago                                 0.417437
          Fuller Park, Chicago                                   0.417434
          Forest Glen, Chicago                                   0.417118
          Georgetown, NYC                                        0.416334
          Sutton Place, NYC                                      0.415726
          Hermosa, Chicago                                       0.414717
          Gravesend, NYC                                         0.411772
          East Gravesend, NYC                                    0.411772
          Belmont, NYC                                           0.409781
          Shore Acres, NYC                                       0.408448
          Arrochar, NYC                                          0.407747
          East Tremont, NYC                                      0.407267
          Beverly Woods, Chicago                                 0.406518
          Wingate, NYC                                           0.405306
          Gladstone Park, Chicago                                0.405051
          New Springville, NYC                                   0.404813
          Todt Hill, NYC                                         0.403414
          Malba, NYC                                             0.402638
          Liberty Park, NYC                                      0.401024
          Sauganash, Chicago                                     0.401024
          Upper West Side, NYC                                   0.400328
          Morris Heights, NYC                                    0.399575
          Van Nest, NYC                                          0.398349
          West Farms, NYC                                        0.397457
          The Gap, Chicago                                       0.393750
          Crotona Park, NYC                                      0.390605
          Port Morris, NYC                                       0.390503
          Balmoral, Chicago                                      0.389983
          Magnificent Mile, Chicago                              0.389259
          Big Oaks, Chicago                                      0.386050
          Clifton, NYC                                           0.384969
          Concourse Village, NYC                                 0.383474
          Emerson Hill, NYC                                      0.380032
          Huguenot, NYC                                          0.379925
          New Chinatown, Chicago                                 0.379828
          Chinatown, Chicago                                     0.379828
          Financial District, NYC                                0.379782
          Bay Terrace, NYC                                       0.378885
          Sleepy Hollow, Chicago                                 0.375711
          Olinville, NYC                                         0.375344
          Bloomfield, NYC                                        0.374951
          Woodside, NYC                                          0.373570
          Unionport, NYC                                         0.372680
          Rosebank, NYC                                          0.370238
          South Commons, Chicago                                 0.366965
          Bergen Beach, NYC                                      0.366618
          Brownsville, NYC                                       0.366130
          Port Richmond, NYC                                     0.365299
          Streeterville, Chicago                                 0.365275
          South Beach, NYC                                       0.363936
          Woodrow, NYC                                           0.363774
          Beechhurst, NYC                                        0.362457
          Soundview, NYC                                         0.361186
          Jamaica Estates, NYC                                   0.360327
          Greater Grand Crossing, Chicago                        0.359551
          Grand Crossing, Chicago                                0.359285
          Queens Village, NYC                                    0.359087
          Castleton Corners, NYC                                 0.358957
          Fort Wadsworth, NYC                                    0.356143
          Norwood, NYC                                           0.355757
          Mount Greenwood, Chicago                               0.355659
          Erasmus, NYC                                           0.354976
          Lake Meadows, Chicago                                  0.354971
          Clearing East, Chicago                                 0.354722
          Clearing West, Chicago                                 0.354722
          Montclare, Chicago                                     0.352978
          Kelvyn Park, Chicago                                   0.349217
          Upper East Side, NYC                                   0.348011
          Melrose, NYC                                           0.345408
          Prince's Bay, NYC                                      0.345118
          Williamsbridge, NYC                                    0.345079
          West Elsdon, Chicago                                   0.342738
          Graniteville, NYC                                      0.341636
          Rossville, NYC                                         0.341199
          Pomonok Houses, NYC                                    0.340116
          Prairie Shores, Chicago                                0.338047
          Longwood, NYC                                          0.337395
          Gage Park, Chicago                                     0.336969
          Elmhurst, NYC                                          0.336170
          McKinley Park, Chicago                                 0.335869
          Woodlawn, NYC                                          0.335341
          South Edgebrook, Chicago                               0.331494
          Gerritsen Beach, NYC                                   0.331122
          LeClaire Courts, Chicago                               0.330672
          New City, Chicago                                      0.329861
          Canaryville, Chicago                                   0.329735
          Holliswood, NYC                                        0.329261
          Wakefield, NYC                                         0.326388
          Co-op City, NYC                                        0.325562
          Dongan Hills, NYC                                      0.321677
          Cypress Hills, NYC                                     0.321511
          Brighton Park, Chicago                                 0.321218
          Whitestone, NYC                                        0.320010
          Garfield Ridge, Chicago                                0.319972
          Hamilton Park, Chicago                                 0.319972
          Groveland Park, Chicago                                0.318985
          Claremont, NYC                                         0.317247
          West Ridge, Chicago                                    0.316889
          Vittum Park, Chicago                                   0.314350
          Hegewisch, Chicago                                     0.314309
          Marine Park, NYC                                       0.312526
          West Lawn, Chicago                                     0.312268
          Woodhaven, NYC                                         0.310386
          Back of the Yards, Chicago                             0.308021
          Morrisania, NYC                                        0.306558
          Lincoln Square, NYC                                    0.305598
          Jackson Heights, NYC                                   0.304688
          North Austin, Chicago                                  0.303084
          South Austin, Chicago                                  0.303084
          South Jamaica, NYC                                     0.300413
          Jamaica, NYC                                           0.300413
          East Side, Chicago                                     0.300061
          East Elmhurst, NYC                                     0.299345
          Castle Hill, NYC                                       0.298816
          Rosedale, NYC                                          0.298180
          Douglas Park, Chicago                                  0.297100
          Mill Basin, NYC                                        0.296425
          South Shore, Chicago                                   0.296425
          Archer Heights, Chicago                                0.296309
          Travis, NYC                                            0.295066
          Hunts Point, NYC                                       0.293948
          Elm Park, NYC                                          0.290240
          Galewood, Chicago                                      0.290037
          Crestline, Chicago                                     0.288769
          Ashburn, Chicago                                       0.283634
          New Lots, NYC                                          0.282132
          West Brighton, NYC                                     0.278801
          Starrett City, NYC                                     0.277780
          City Line, NYC                                         0.275993
          Brickyard, Chicago                                     0.272254
          Hudson Yards, NYC                                      0.271396
          Wrightwood, Chicago                                    0.267546
          East New York, NYC                                     0.264097
          Oakland, Chicago                                       0.263624
          Remsen Village, NYC                                    0.261758
          East Chatham, Chicago                                  0.261364
          West Chatham, Chicago                                  0.261364
          Chatham, Chicago                                       0.261364
          Marshall Square, Chicago                               0.260544
          Sea Gate, NYC                                          0.259058
          Marquette Park, Chicago                                0.257903
          O'Hare, Chicago                                        0.257743
          East Garfield Park, Chicago                            0.257093
          Hollis, NYC                                            0.255986
          Mariners Harbor, NYC                                   0.255209
          Chrysler Village, Chicago                              0.252116
          Springfield Gardens, NYC                               0.250992
          Ford City, Chicago                                     0.250521
          South Ozone Park, NYC                                  0.247467
          Park Manor, Chicago                                    0.246870
          Pill Hill, Chicago                                     0.246530
          Arlington, NYC                                         0.244017
          Canarsie, NYC                                          0.243597
          Bayswater, NYC                                         0.242370
          Scottsdale, Chicago                                    0.242008
          Arverne, NYC                                           0.238332
          Washington Heights, Chicago                            0.236950
          Coney Island, NYC                                      0.233314
          Breezy Point, NYC                                      0.232191
          Ocean Breeze, NYC                                      0.230154
          Edenwald, NYC                                          0.230055
          Floral Park, NYC                                       0.227331
          Midtown, NYC                                           0.226293
          Grand Boulevard, Chicago                               0.225762
          Meadowmere, NYC                                        0.221341
          Rochdale Village, NYC                                  0.220488
          South Lawndale, Chicago                                0.219233
          Clason Point, NYC                                      0.213281
          Silver Lake, NYC                                       0.212139
          Stony Island Park, Chicago                             0.211813
          Calumet Heights, Chicago                               0.211341
          Hanson Park, Chicago                                   0.209836
          Kensington, Chicago                                    0.208787
          Eastchester, NYC                                       0.207242
          North Lawndale, Chicago                                0.206479
          East Flatbush, NYC                                     0.205819
          Laurelton, NYC                                         0.201084
          Cragin, Chicago                                        0.200713
          Englewood, Chicago                                     0.200713
          Lithuanian Plaza, Chicago                              0.199676
          Far Rockaway, NYC                                      0.198348
          Baisley Park, NYC                                      0.193372
          Chicago Lawn, Chicago                                  0.190108
          North Halsted, Chicago                                 0.188633
          St. Albans, NYC                                        0.187411
          Rockaway Park, NYC                                     0.185249
          Marynook, Chicago                                      0.183923
          Homan Square, Chicago                                  0.183832
          Auburn Gresham, Chicago                                0.174876
          Cambria Heights, NYC                                   0.174211
          Burnside, Chicago                                      0.170671
          Brookville, NYC                                        0.169360
          Gresham, Chicago                                       0.167891
          Clinton, NYC                                           0.162815
          South Chicago, Chicago                                 0.161711
          Avalon Park, Chicago                                   0.160796
          Harding Park, NYC                                      0.160728
          City Island, NYC                                       0.157549
          Brainerd, Chicago                                      0.154214
          Roseland, Chicago                                      0.153248
          Edgemere, NYC                                          0.148110
          Princeton Park, Chicago                                0.147839
          Neponsit, NYC                                          0.146587
          Belle Harbor, NYC                                      0.143375
          Lilydale, Chicago                                      0.138929
          Willets Point, NYC                                     0.138053
          Flushing South, NYC                                    0.132871
          Flushing, NYC                                          0.132871
          Corona, NYC                                            0.128099
          North Corona, NYC                                      0.128099
          West Englewood, Chicago                                0.120924
          South Deering, Chicago                                 0.116657
          West Pullman, Chicago                                  0.112336
          Rosemoor, Chicago                                      0.107913
          Pullman, Chicago                                       0.107849
          Fernwood, Chicago                                      0.083656
          Fifth City, Chicago                                    0.082897
          West Garfield Park, Chicago                            0.073324
          Altgeld Gardens, Chicago                               0.038292
          Port Ivory, NYC                                        0.037864
          Golden Gate, Chicago                                   0.031750
          Riverdale, Chicago                                     0.029136
\end{Verbatim}
            
    Let's filter it to just show the neighborhoods in New York.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}518}]:} \PY{n}{ranked}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC}\PY{l+s+s1}{\PYZsq{}} \PY{o+ow}{in} \PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{ranked}\PY{o}{.}\PY{n}{index}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}518}]:} City, Neighborhood         Wicker Park, Chicago
          City, Neighborhood                             
          Bedford-Stuyvesant, NYC                0.647148
          Stuyvesant Heights, NYC                0.644714
          Little Italy, NYC                      0.638524
          Chinatown, NYC                         0.635123
          Greenpoint, NYC                        0.630176
          Fish Bay, NYC                          0.627133
          Clinton Hill, NYC                      0.627115
          Mott Haven, NYC                        0.626850
          Steinway, NYC                          0.620782
          Glendale, NYC                          0.619521
          Greenwich Village, NYC                 0.619445
          Long Island City, NYC                  0.617895
          Park Slope, NYC                        0.604248
          Williamsburg, NYC                      0.600950
          Livingston, NYC                        0.598592
          East Flushing, NYC                     0.597138
          East Village, NYC                      0.595754
          Hunters Point, NYC                     0.594671
          Ditmars, NYC                           0.594570
          Weeksville, NYC                        0.594165
          Spanish Harlem, NYC                    0.593264
          SoHo, NYC                              0.590802
          Crown Heights, NYC                     0.590119
          Yorkville, NYC                         0.589775
          Fort Hamilton, NYC                     0.588554
          Bushwick, NYC                          0.583333
          Ocean Hill, NYC                        0.581588
          West Village, NYC                      0.580019
          NoHo, NYC                              0.579578
          Fresh Pond, NYC                        0.577568
          Carroll Gardens, NYC                   0.577539
          Fort Greene, NYC                       0.575320
          Lower East Side, NYC                   0.574271
          Boerum Hill, NYC                       0.574032
          Sunnyside, NYC                         0.573840
          Kew Gardens, NYC                       0.573629
          Bay Ridge, NYC                         0.571684
          East Harlem, NYC                       0.571501
          Forest Hills, NYC                      0.568607
          Two Bridges, NYC                       0.567701
          Hamilton Heights, NYC                  0.567206
          Bronx River, NYC                       0.565600
          Fieldston, NYC                         0.564573
          Alphabet City, NYC                     0.563382
          Randall's Island, NYC                  0.562804
          Bensonhurst, NYC                       0.559563
          Bayside, NYC                           0.559100
          Madison, NYC                           0.558481
          Oakland Gardens, NYC                   0.558287
          Kingsbridge, NYC                       0.557626
          Marble Hill, NYC                       0.557487
          Red Hook, NYC                          0.555273
          Spuyten Duyvil, NYC                    0.554118
          Morris Park, NYC                       0.553786
          Brooklyn Navy Yard, NYC                0.552864
          Sunset Park, NYC                       0.551941
          Gowanus, NYC                           0.546365
          Wards Island, NYC                      0.544694
          Maspeth, NYC                           0.544591
          Windsor Terrace, NYC                   0.544412
          Linden Hill, NYC                       0.542987
          Pelham Bay, NYC                        0.542594
          Pelham Gardens, NYC                    0.542594
          Kensington, NYC                        0.541812
          Baychester, NYC                        0.541609
          Kingsbridge Heights, NYC               0.540329
          Riverdale, NYC                         0.539564
          Pelham Parkway, NYC                    0.536587
          Waterside Plaza, NYC                   0.536290
          Ridgewood, NYC                         0.535923
          Fulton Mall, NYC                       0.534085
          University Heights, NYC                0.530341
          Westchester Square, NYC                0.527321
          Middle Village, NYC                    0.526861
          Stuyvesant Town, NYC                   0.526487
          Cobble Hill, NYC                       0.524017
          Throgs Neck, NYC                       0.522855
          Ravenswood, NYC                        0.522303
          Greenridge, NYC                        0.522223
          Borough Park, NYC                      0.520686
          Brooklyn Heights, NYC                  0.520412
          Bedford Park, NYC                      0.520263
          Washington Heights, NYC                0.518628
          New Hyde Park, NYC                     0.516991
          Concourse, NYC                         0.514457
          Ocean Parkway, NYC                     0.511906
          Dyker Heights, NYC                     0.511157
          Bath Beach, NYC                        0.511069
          Bathgate, NYC                          0.511069
          Harlem, NYC                            0.510488
          New Brighton, NYC                      0.509997
          Auburndale, NYC                        0.509231
          Queensboro Hill, NYC                   0.508421
          Prospect Heights, NYC                  0.508016
          Little Neck, NYC                       0.508001
          Eltingville, NYC                       0.507838
          Astoria, NYC                           0.505649
          Old Astoria, NYC                       0.505649
          Kips Bay, NYC                          0.504255
          Inwood, NYC                            0.504066
          Morningside Heights, NYC               0.501149
          Douglaston, NYC                        0.500399
          Allerton, NYC                          0.499246
          Pleasant Plains, NYC                   0.499106
          Lenox Hill, NYC                        0.498048
          Bruckner, NYC                          0.497122
          Rugby, NYC                             0.496967
          Dumbo, NYC                             0.496016
          Richmond Valley, NYC                   0.495931
          Kings Bay, NYC                         0.495807
          Rose Hill, NYC                         0.492833
          Ditmas Village, NYC                    0.491880
          Parkchester, NYC                       0.491213
          Laconia, NYC                           0.490591
          Peter Cooper Village, NYC              0.489816
          Rego Park, NYC                         0.489048
          Polo Grounds, NYC                      0.488157
          Tudor City, NYC                        0.485948
          Tudor Village, NYC                     0.485948
          Annadale, NYC                          0.485769
          Great Kills, NYC                       0.484603
          Midwood, NYC                           0.484150
          Midland Beach, NYC                     0.481947
          Bellerose, NYC                         0.481878
          Tribeca, NYC                           0.481532
          Manhattanville, NYC                    0.480982
          Lindenwood, NYC                        0.480811
          Richmond Hill, NYC                     0.480704
          Fulton Ferry, NYC                      0.480219
          Highland Park, NYC                     0.479276
          Flatlands, NYC                         0.479218
          Grant City, NYC                        0.475374
          Fordham, NYC                           0.474345
          Queensbridge, NYC                      0.473582
          Gramercy Park, NYC                     0.473564
          Egbertville, NYC                       0.470929
          Hollis Hills, NYC                      0.470766
          Kings Highway, NYC                     0.468569
          Mill Island, NYC                       0.466648
          Garden Bay, NYC                        0.466648
          Farragut, NYC                          0.462531
          Randall Manor, NYC                     0.460279
          Flatbush, NYC                          0.459177
          Fresh Meadows, NYC                     0.457905
          Vinegar Hill, NYC                      0.457835
          Bulls Head, NYC                        0.456943
          Briarwood, NYC                         0.456015
          Tompkinsville, NYC                     0.455073
          New Dorp, NYC                          0.454920
          Cunningham Heights, NYC                0.454848
          Battery Park City, NYC                 0.452451
          Brighton Beach, NYC                    0.449951
          Homecrest, NYC                         0.448469
          St. George, NYC                        0.448322
          Arden Heights, NYC                     0.448014
          Sheepshead Bay, NYC                    0.442867
          Charleston, NYC                        0.440803
          Old Town, NYC                          0.438150
          Glen Oaks, NYC                         0.437755
          Bronxdale, NYC                         0.437734
          Manhattan Valley, NYC                  0.437445
          Roosevelt Island, NYC                  0.437324
          Manhattan Beach, NYC                   0.436014
          Howard Beach, NYC                      0.435522
          Ozone Park, NYC                        0.434975
          Highbridge, NYC                        0.434868
          Grasmere, NYC                          0.433027
          Westerleigh, NYC                       0.432787
          Murray Hill, NYC                       0.429594
          College Point, NYC                     0.428838
          Chelsea, NYC                           0.428625
          Mapleton, NYC                          0.428093
          Oakwood, NYC                           0.427178
          Locust Point, NYC                      0.424208
          Utopia, NYC                            0.422188
          Turtle Bay, NYC                        0.421067
          Silver Beach, NYC                      0.420140
          Stapleton, NYC                         0.420013
          Concord, NYC                           0.419510
          Grymes Hill, NYC                       0.419038
          Tottenville, NYC                       0.418833
          Georgetown, NYC                        0.416334
          Sutton Place, NYC                      0.415726
          Gravesend, NYC                         0.411772
          East Gravesend, NYC                    0.411772
          Belmont, NYC                           0.409781
          Shore Acres, NYC                       0.408448
          Arrochar, NYC                          0.407747
          East Tremont, NYC                      0.407267
          Wingate, NYC                           0.405306
          New Springville, NYC                   0.404813
          Todt Hill, NYC                         0.403414
          Malba, NYC                             0.402638
          Liberty Park, NYC                      0.401024
          Upper West Side, NYC                   0.400328
          Morris Heights, NYC                    0.399575
          Van Nest, NYC                          0.398349
          West Farms, NYC                        0.397457
          Crotona Park, NYC                      0.390605
          Port Morris, NYC                       0.390503
          Clifton, NYC                           0.384969
          Concourse Village, NYC                 0.383474
          Emerson Hill, NYC                      0.380032
          Huguenot, NYC                          0.379925
          Financial District, NYC                0.379782
          Bay Terrace, NYC                       0.378885
          Olinville, NYC                         0.375344
          Bloomfield, NYC                        0.374951
          Woodside, NYC                          0.373570
          Unionport, NYC                         0.372680
          Rosebank, NYC                          0.370238
          Bergen Beach, NYC                      0.366618
          Brownsville, NYC                       0.366130
          Port Richmond, NYC                     0.365299
          South Beach, NYC                       0.363936
          Woodrow, NYC                           0.363774
          Beechhurst, NYC                        0.362457
          Soundview, NYC                         0.361186
          Jamaica Estates, NYC                   0.360327
          Queens Village, NYC                    0.359087
          Castleton Corners, NYC                 0.358957
          Fort Wadsworth, NYC                    0.356143
          Norwood, NYC                           0.355757
          Erasmus, NYC                           0.354976
          Upper East Side, NYC                   0.348011
          Melrose, NYC                           0.345408
          Prince's Bay, NYC                      0.345118
          Williamsbridge, NYC                    0.345079
          Graniteville, NYC                      0.341636
          Rossville, NYC                         0.341199
          Pomonok Houses, NYC                    0.340116
          Longwood, NYC                          0.337395
          Elmhurst, NYC                          0.336170
          Woodlawn, NYC                          0.335341
          Gerritsen Beach, NYC                   0.331122
          Holliswood, NYC                        0.329261
          Wakefield, NYC                         0.326388
          Co-op City, NYC                        0.325562
          Dongan Hills, NYC                      0.321677
          Cypress Hills, NYC                     0.321511
          Whitestone, NYC                        0.320010
          Claremont, NYC                         0.317247
          Marine Park, NYC                       0.312526
          Woodhaven, NYC                         0.310386
          Morrisania, NYC                        0.306558
          Lincoln Square, NYC                    0.305598
          Jackson Heights, NYC                   0.304688
          South Jamaica, NYC                     0.300413
          Jamaica, NYC                           0.300413
          East Elmhurst, NYC                     0.299345
          Castle Hill, NYC                       0.298816
          Rosedale, NYC                          0.298180
          Mill Basin, NYC                        0.296425
          Travis, NYC                            0.295066
          Hunts Point, NYC                       0.293948
          Elm Park, NYC                          0.290240
          New Lots, NYC                          0.282132
          West Brighton, NYC                     0.278801
          Starrett City, NYC                     0.277780
          City Line, NYC                         0.275993
          Hudson Yards, NYC                      0.271396
          East New York, NYC                     0.264097
          Remsen Village, NYC                    0.261758
          Sea Gate, NYC                          0.259058
          Hollis, NYC                            0.255986
          Mariners Harbor, NYC                   0.255209
          Springfield Gardens, NYC               0.250992
          South Ozone Park, NYC                  0.247467
          Arlington, NYC                         0.244017
          Canarsie, NYC                          0.243597
          Bayswater, NYC                         0.242370
          Arverne, NYC                           0.238332
          Coney Island, NYC                      0.233314
          Breezy Point, NYC                      0.232191
          Ocean Breeze, NYC                      0.230154
          Edenwald, NYC                          0.230055
          Floral Park, NYC                       0.227331
          Midtown, NYC                           0.226293
          Meadowmere, NYC                        0.221341
          Rochdale Village, NYC                  0.220488
          Clason Point, NYC                      0.213281
          Silver Lake, NYC                       0.212139
          Eastchester, NYC                       0.207242
          East Flatbush, NYC                     0.205819
          Laurelton, NYC                         0.201084
          Far Rockaway, NYC                      0.198348
          Baisley Park, NYC                      0.193372
          St. Albans, NYC                        0.187411
          Rockaway Park, NYC                     0.185249
          Cambria Heights, NYC                   0.174211
          Brookville, NYC                        0.169360
          Clinton, NYC                           0.162815
          Harding Park, NYC                      0.160728
          City Island, NYC                       0.157549
          Edgemere, NYC                          0.148110
          Neponsit, NYC                          0.146587
          Belle Harbor, NYC                      0.143375
          Willets Point, NYC                     0.138053
          Flushing South, NYC                    0.132871
          Flushing, NYC                          0.132871
          Corona, NYC                            0.128099
          North Corona, NYC                      0.128099
          Port Ivory, NYC                        0.037864
\end{Verbatim}
            
    Now, let's do this for a few other neighborhoods and google the results
to see if they make sense.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}520}]:} \PY{n}{neighborhood} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{South Loop, Chicago}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{ranked} \PY{o}{=} \PY{n}{Similarity}\PY{p}{[}\PY{p}{[}\PY{n}{neighborhood}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{n}{neighborhood}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
          \PY{n}{ranked}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC}\PY{l+s+s1}{\PYZsq{}} \PY{o+ow}{in} \PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{ranked}\PY{o}{.}\PY{n}{index}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}520}]:} City, Neighborhood         South Loop, Chicago
          City, Neighborhood                            
          Highbridge, NYC                       0.558501
          Farragut, NYC                         0.558049
          Livingston, NYC                       0.543510
          Rego Park, NYC                        0.531457
          University Heights, NYC               0.527679
          Brooklyn Heights, NYC                 0.525431
          Dumbo, NYC                            0.521641
          Mott Haven, NYC                       0.519213
          Morris Park, NYC                      0.518224
          Queensboro Hill, NYC                  0.516574
          Vinegar Hill, NYC                     0.514994
          Middle Village, NYC                   0.514399
          Pelham Bay, NYC                       0.513948
          Pelham Gardens, NYC                   0.513948
          Upper West Side, NYC                  0.513429
          Fulton Ferry, NYC                     0.513236
          Pelham Parkway, NYC                   0.512742
          Kingsbridge Heights, NYC              0.510595
          Kew Gardens, NYC                      0.509618
          Huguenot, NYC                         0.508608
          Forest Hills, NYC                     0.505120
          Waterside Plaza, NYC                  0.503921
          Hollis Hills, NYC                     0.503062
          Polo Grounds, NYC                     0.495985
          Morningside Heights, NYC              0.495469
          Brooklyn Navy Yard, NYC               0.494782
          Cunningham Heights, NYC               0.494291
          Queensbridge, NYC                     0.493728
          Bronx River, NYC                      0.490990
          Kingsbridge, NYC                      0.490556
          Allerton, NYC                         0.488285
          East Harlem, NYC                      0.486880
          West Village, NYC                     0.486864
          Fish Bay, NYC                         0.485525
          Beechhurst, NYC                       0.485066
          Washington Heights, NYC               0.483087
          Concourse, NYC                        0.482530
          Spuyten Duyvil, NYC                   0.480978
          Manhattanville, NYC                   0.480538
          Fort Greene, NYC                      0.480233
          Laconia, NYC                          0.480173
          Fulton Mall, NYC                      0.479857
          Woodrow, NYC                          0.478544
          Fieldston, NYC                        0.477191
          Marble Hill, NYC                      0.476281
          Financial District, NYC               0.475248
          Tribeca, NYC                          0.472796
          Harlem, NYC                           0.472714
          Melrose, NYC                          0.472103
          Two Bridges, NYC                      0.472045
          Battery Park City, NYC                0.471698
          Manhattan Valley, NYC                 0.471545
          Egbertville, NYC                      0.469895
          Spanish Harlem, NYC                   0.469251
          Long Island City, NYC                 0.467437
          Sheepshead Bay, NYC                   0.465491
          Liberty Park, NYC                     0.465417
          Cobble Hill, NYC                      0.465129
          Riverdale, NYC                        0.462910
          Midwood, NYC                          0.462699
          Stuyvesant Town, NYC                  0.461560
          Garden Bay, NYC                       0.460590
          Mill Island, NYC                      0.460590
          Alphabet City, NYC                    0.460442
          Rose Hill, NYC                        0.460255
          Rosebank, NYC                         0.456982
          Claremont, NYC                        0.456908
          Morris Heights, NYC                   0.456880
          Concourse Village, NYC                0.455393
          Inwood, NYC                           0.455195
          Ocean Hill, NYC                       0.454372
          Bedford Park, NYC                     0.454209
          Gramercy Park, NYC                    0.453847
          Howard Beach, NYC                     0.453234
          Yorkville, NYC                        0.452182
          Sunnyside, NYC                        0.451711
          Fort Hamilton, NYC                    0.451711
          Madison, NYC                          0.451541
          Kips Bay, NYC                         0.451031
          Borough Park, NYC                     0.450697
          Castleton Corners, NYC                0.450680
          East Village, NYC                     0.448211
          Hamilton Heights, NYC                 0.447912
          Randall's Island, NYC                 0.447714
          Grymes Hill, NYC                      0.447524
          Peter Cooper Village, NYC             0.447303
          Greenwich Village, NYC                0.447237
          Westerleigh, NYC                      0.446801
          Greenpoint, NYC                       0.445742
          Fresh Meadows, NYC                    0.444981
          Kensington, NYC                       0.444446
          Little Neck, NYC                      0.443614
          Baychester, NYC                       0.443343
          Morrisania, NYC                       0.442882
          Bensonhurst, NYC                      0.442845
          Douglaston, NYC                       0.441831
          New Dorp, NYC                         0.441690
          Westchester Square, NYC               0.440552
          Great Kills, NYC                      0.440058
          Roosevelt Island, NYC                 0.437728
          Park Slope, NYC                       0.436453
          Eltingville, NYC                      0.436451
          Bay Terrace, NYC                      0.433699
          Ravenswood, NYC                       0.432675
          Bulls Head, NYC                       0.432653
          Rossville, NYC                        0.432584
          Chelsea, NYC                          0.431291
          Clifton, NYC                          0.431291
          Bathgate, NYC                         0.430333
          Bath Beach, NYC                       0.430333
          Williamsburg, NYC                     0.429411
          Red Hook, NYC                         0.427960
          Windsor Terrace, NYC                  0.427726
          Arden Heights, NYC                    0.426006
          Bayside, NYC                          0.425308
          Annadale, NYC                         0.423310
          Utopia, NYC                           0.423164
          Shore Acres, NYC                      0.423061
          Bay Ridge, NYC                        0.420725
          Chinatown, NYC                        0.419532
          Brighton Beach, NYC                   0.417309
          Kings Highway, NYC                    0.416619
          Midland Beach, NYC                    0.416517
          Stuyvesant Heights, NYC               0.416407
          Port Morris, NYC                      0.416205
          Todt Hill, NYC                        0.415323
          Boerum Hill, NYC                      0.414286
          Hunters Point, NYC                    0.414057
          Homecrest, NYC                        0.414039
          Gowanus, NYC                          0.413573
          Lindenwood, NYC                       0.413493
          Richmond Valley, NYC                  0.412699
          Grant City, NYC                       0.408973
          Throgs Neck, NYC                      0.408929
          Emerson Hill, NYC                     0.408071
          Ozone Park, NYC                       0.407139
          Parkchester, NYC                      0.406088
          NoHo, NYC                             0.403865
          Maspeth, NYC                          0.403689
          Lenox Hill, NYC                       0.402573
          Pleasant Plains, NYC                  0.402416
          Oakwood, NYC                          0.401730
          Bruckner, NYC                         0.400816
          Old Town, NYC                         0.400238
          Castle Hill, NYC                      0.400028
          Stapleton, NYC                        0.399924
          Concord, NYC                          0.397535
          Carroll Gardens, NYC                  0.397493
          Glendale, NYC                         0.395808
          Wards Island, NYC                     0.393321
          Tudor Village, NYC                    0.392792
          Tudor City, NYC                       0.392792
          Bellerose, NYC                        0.391749
          Crown Heights, NYC                    0.391526
          Tottenville, NYC                      0.390673
          Highland Park, NYC                    0.390628
          Queens Village, NYC                   0.390226
          Fordham, NYC                          0.389752
          Grasmere, NYC                         0.387755
          Flatbush, NYC                         0.387649
          Richmond Hill, NYC                    0.386482
          St. George, NYC                       0.383443
          Locust Point, NYC                     0.382859
          Manhattan Beach, NYC                  0.382536
          Arrochar, NYC                         0.382510
          Mapleton, NYC                         0.382141
          Pomonok Houses, NYC                   0.381405
          Longwood, NYC                         0.380488
          Bronxdale, NYC                        0.379974
          Sunset Park, NYC                      0.379230
          New Hyde Park, NYC                    0.378370
          Murray Hill, NYC                      0.378307
          Lower East Side, NYC                  0.377462
          Ocean Parkway, NYC                    0.377215
          Ditmas Village, NYC                   0.376685
          Astoria, NYC                          0.375360
          Old Astoria, NYC                      0.375360
          Bergen Beach, NYC                     0.374505
          Port Richmond, NYC                    0.374421
          Upper East Side, NYC                  0.373842
          Holliswood, NYC                       0.373541
          Kings Bay, NYC                        0.373266
          Hunts Point, NYC                      0.372678
          Steinway, NYC                         0.372486
          Prospect Heights, NYC                 0.372326
          Linden Hill, NYC                      0.372308
          Norwood, NYC                          0.371593
          Dyker Heights, NYC                    0.371524
          Graniteville, NYC                     0.366789
          Tompkinsville, NYC                    0.366639
          Flatlands, NYC                        0.366470
          Rugby, NYC                            0.366470
          East Gravesend, NYC                   0.366470
          Gravesend, NYC                        0.366470
          Randall Manor, NYC                    0.365882
          South Beach, NYC                      0.365457
          Olinville, NYC                        0.364428
          Crotona Park, NYC                     0.363837
          New Brighton, NYC                     0.363708
          Bayswater, NYC                        0.362890
          SoHo, NYC                             0.362889
          Bedford-Stuyvesant, NYC               0.361223
          Bloomfield, NYC                       0.361045
          Briarwood, NYC                        0.360801
          Clason Point, NYC                     0.359863
          Oakland Gardens, NYC                  0.359836
          Little Italy, NYC                     0.359640
          Prince's Bay, NYC                     0.359419
          East Flushing, NYC                    0.359401
          Bushwick, NYC                         0.359317
          Silver Beach, NYC                     0.359271
          Soundview, NYC                        0.356824
          Van Nest, NYC                         0.356500
          Malba, NYC                            0.355512
          Woodhaven, NYC                        0.355437
          Turtle Bay, NYC                       0.353379
          Georgetown, NYC                       0.351895
          East Tremont, NYC                     0.349695
          Weeksville, NYC                       0.349617
          Greenridge, NYC                       0.347454
          Fort Wadsworth, NYC                   0.347185
          Cypress Hills, NYC                    0.346215
          Glen Oaks, NYC                        0.344784
          Williamsbridge, NYC                   0.344265
          Ditmars, NYC                          0.343256
          Elm Park, NYC                         0.340844
          College Point, NYC                    0.338927
          Far Rockaway, NYC                     0.334666
          Unionport, NYC                        0.334221
          West Farms, NYC                       0.331808
          Gerritsen Beach, NYC                  0.330547
          Sea Gate, NYC                         0.329588
          Brownsville, NYC                      0.327853
          Travis, NYC                           0.327624
          Clinton Hill, NYC                     0.327118
          Baisley Park, NYC                     0.326885
          Sutton Place, NYC                     0.326531
          Auburndale, NYC                       0.325523
          Coney Island, NYC                     0.323976
          City Line, NYC                        0.323683
          St. Albans, NYC                       0.321572
          Jamaica Estates, NYC                  0.321178
          South Ozone Park, NYC                 0.318728
          Lincoln Square, NYC                   0.317173
          Fresh Pond, NYC                       0.312325
          Charleston, NYC                       0.306877
          New Lots, NYC                         0.306598
          Belmont, NYC                          0.305984
          Erasmus, NYC                          0.305521
          Meadowmere, NYC                       0.302896
          Co-op City, NYC                       0.296110
          Brookville, NYC                       0.295442
          Wingate, NYC                          0.293635
          West Brighton, NYC                    0.291616
          Eastchester, NYC                      0.290730
          East New York, NYC                    0.290586
          Ridgewood, NYC                        0.289777
          Silver Lake, NYC                      0.285863
          Jackson Heights, NYC                  0.285799
          Rochdale Village, NYC                 0.282278
          Springfield Gardens, NYC              0.281951
          Elmhurst, NYC                         0.281933
          Hollis, NYC                           0.278185
          Woodside, NYC                         0.274301
          Arverne, NYC                          0.273388
          Jamaica, NYC                          0.270817
          South Jamaica, NYC                    0.270817
          Rosedale, NYC                         0.266173
          Dongan Hills, NYC                     0.263611
          East Elmhurst, NYC                    0.262594
          Cambria Heights, NYC                  0.254999
          Canarsie, NYC                         0.254025
          Mill Basin, NYC                       0.250012
          Remsen Village, NYC                   0.248143
          Harding Park, NYC                     0.247912
          Starrett City, NYC                    0.247314
          Mariners Harbor, NYC                  0.247194
          Hudson Yards, NYC                     0.246202
          Edgemere, NYC                         0.244412
          Laurelton, NYC                        0.244016
          Whitestone, NYC                       0.243432
          Wakefield, NYC                        0.238610
          East Flatbush, NYC                    0.231470
          Woodlawn, NYC                         0.230160
          New Springville, NYC                  0.228584
          Marine Park, NYC                      0.227969
          Arlington, NYC                        0.224381
          Flushing, NYC                         0.216590
          Flushing South, NYC                   0.216590
          Ocean Breeze, NYC                     0.203662
          Willets Point, NYC                    0.199124
          Edenwald, NYC                         0.193185
          North Corona, NYC                     0.161934
          Corona, NYC                           0.161934
          Breezy Point, NYC                     0.159364
          Belle Harbor, NYC                     0.155808
          Floral Park, NYC                      0.153716
          Midtown, NYC                          0.144158
          Neponsit, NYC                         0.138059
          City Island, NYC                      0.136969
          Rockaway Park, NYC                    0.123304
          Clinton, NYC                          0.102665
          Port Ivory, NYC                       0.051434
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}523}]:} \PY{n}{neighborhood} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SoHo, NYC}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{ranked} \PY{o}{=} \PY{n}{Similarity}\PY{p}{[}\PY{p}{[}\PY{n}{neighborhood}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{n}{neighborhood}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
          \PY{n}{ranked}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chicago}\PY{l+s+s1}{\PYZsq{}} \PY{o+ow}{in} \PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{ranked}\PY{o}{.}\PY{n}{index}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}523}]:} City, Neighborhood                         SoHo, NYC
          City, Neighborhood                                  
          Cabrini–Green, Chicago                      0.650673
          Park West, Chicago                          0.646383
          Wrigleyville, Chicago                       0.639735
          Lake View East, Chicago                     0.639070
          Lake View, Chicago                          0.639070
          West Lakeview, Chicago                      0.638495
          Lakewood, Chicago                           0.614691
          Little Italy, Chicago                       0.603481
          Bucktown, Chicago                           0.599123
          Graceland West, Chicago                     0.592751
          Polish Village, Chicago                     0.591864
          West DePaul, Chicago                        0.591257
          Wicker Park, Chicago                        0.590802
          Greektown, Chicago                          0.589980
          Near North Side, Chicago                    0.587969
          Boystown, Chicago                           0.581818
          Pulaski Park, Chicago                       0.581105
          Lincoln Park, Chicago                       0.579751
          Noble Square, Chicago                       0.570145
          Belmont Terrace, Chicago                    0.569558
          Belmont Gardens, Chicago                    0.569558
          Belmont Central, Chicago                    0.569558
          Gold Coast, Chicago                         0.564463
          Near West Side, Chicago                     0.562183
          Edgewater Beach, Chicago                    0.556553
          Edgewater, Chicago                          0.556553
          Edison Park, Chicago                        0.553974
          Old Town, Chicago                           0.553638
          West Town, Chicago                          0.550000
          Goose Island, Chicago                       0.541616
          Sheridan Park, Chicago                      0.541083
          North Center, Chicago                       0.539608
          The Gap, Chicago                            0.535406
          Nortown, Chicago                            0.533163
          Roscoe Village, Chicago                     0.531625
          Jackson Park, Chicago                       0.527081
          Union Ridge, Chicago                        0.526890
          Buena Park, Chicago                         0.526870
          Hyde Park, Chicago                          0.526004
          East Hyde Park, Chicago                     0.526004
          North Kenwood, Chicago                      0.525885
          Kenwood, Chicago                            0.525885
          Fulton River District, Chicago              0.522459
          Parkview, Chicago                           0.522248
          Merchant Park, Chicago                      0.521538
          Irving Park, Chicago                        0.518022
          Old Irving Park, Chicago                    0.518022
          Little Village, Chicago                     0.509432
          West Loop, Chicago                          0.509432
          The Villa, Chicago                          0.509432
          East Village, Chicago                       0.509432
          The Loop, Chicago                           0.509432
          The Island, Chicago                         0.509432
          River West, Chicago                         0.509432
          Palmer Square, Chicago                      0.508218
          Logan Square, Chicago                       0.506286
          Tri-Taylor, Chicago                         0.505400
          Avondale Gardens, Chicago                   0.505051
          Avondale, Chicago                           0.505051
          Jackowo, Chicago                            0.505051
          Magnificent Mile, Chicago                   0.503461
          Streeterville, Chicago                      0.500184
          Printer's Row, Chicago                      0.499826
          Cottage Grove, Chicago                      0.497814
          Ukrainian Village, Chicago                  0.488795
          Dearborn Park, Chicago                      0.488693
          Kosciuszko Park, Chicago                    0.486369
          Edgewater Glen, Chicago                     0.485963
          River North, Chicago                        0.485291
          Bowmanville, Chicago                        0.483065
          Kilbourn Park, Chicago                      0.475385
          West Woodlawn, Chicago                      0.474687
          Woodlawn, Chicago                           0.474687
          Mayfair, Chicago                            0.467377
          North Mayfair, Chicago                      0.467377
          Rosehill, Chicago                           0.463636
          Edgebrook, Chicago                          0.462308
          Ravenswood Gardens, Chicago                 0.460585
          Uptown, Chicago                             0.458577
          Dunning, Chicago                            0.458382
          Ravenswood, Chicago                         0.457673
          South East Ravenswood, Chicago              0.457673
          Eden Green, Chicago                         0.456626
          Smith Park, Chicago                         0.456421
          Rogers Park, Chicago                        0.447371
          West Rogers Park, Chicago                   0.447371
          Old Norwood, Chicago                        0.445980
          Clarendon Park, Chicago                     0.444682
          Washington Park, Chicago                    0.439031
          Portage Park, Chicago                       0.437409
          Ravenswood Manor, Chicago                   0.434929
          Andersonville, Chicago                      0.432067
          Balmoral, Chicago                           0.429252
          Loyola, Chicago                             0.428317
          Wildwood, Chicago                           0.427141
          Forest Glen, Chicago                        0.414478
          Albany Park, Chicago                        0.410305
          West Humboldt Park, Chicago                 0.405895
          Humboldt Park, Chicago                      0.405895
          North Park, Chicago                         0.404538
          Lincoln Square, Chicago                     0.402493
          Bronzeville, Chicago                        0.398491
          Oriole Park, Chicago                        0.392786
          Sauganash, Chicago                          0.388576
          Big Oaks, Chicago                           0.386680
          Schorsch Forest View, Chicago               0.384079
          Schorsch Village, Chicago                   0.384079
          Illinois Medical District, Chicago          0.382045
          Jefferson Park, Chicago                     0.379237
          Peterson Park, Chicago                      0.372710
          Dearborn Homes, Chicago                     0.369097
          Fuller Park, Chicago                        0.366649
          Norwood Park East, Chicago                  0.365850
          Norwood Park West, Chicago                  0.365850
          Beverly View, Chicago                       0.365583
          West Beverly, Chicago                       0.365583
          East Beverly, Chicago                       0.365583
          Beverly, Chicago                            0.365583
          Old Edgebrook, Chicago                      0.364141
          South Loop, Chicago                         0.362889
          Lake Meadows, Chicago                       0.356176
          Prairie Avenue Historic District, Chicago   0.355482
          West Morgan Park, Chicago                   0.354292
          Budlong Woods, Chicago                      0.354292
          Morgan Park, Chicago                        0.354292
          Groveland Park, Chicago                     0.350918
          Wentworth Gardens, Chicago                  0.350325
          Montclare, Chicago                          0.350058
          Longwood Manor, Chicago                     0.346885
          Kennedy Park, Chicago                       0.345940
          Armour Square, Chicago                      0.342181
          Stateway Gardens, Chicago                   0.342085
          Bridgeport, Chicago                         0.330461
          Mount Greenwood, Chicago                    0.328574
          South Commons, Chicago                      0.325246
          Sleepy Hollow, Chicago                      0.317967
          Ford City, Chicago                          0.316650
          Hermosa, Chicago                            0.314513
          McKinley Park, Chicago                      0.309578
          Hollywood Park, Chicago                     0.309410
          Kelvyn Park, Chicago                        0.308979
          Galewood, Chicago                           0.307941
          Chinatown, Chicago                          0.304109
          New Chinatown, Chicago                      0.304109
          Clearing West, Chicago                      0.303252
          Clearing East, Chicago                      0.303252
          Crestline, Chicago                          0.302507
          Beverly Woods, Chicago                      0.297812
          Pilsen, Chicago                             0.296131
          East Pilsen, Chicago                        0.296131
          Oakland, Chicago                            0.294438
          Gage Park, Chicago                          0.292722
          North Austin, Chicago                       0.291998
          South Austin, Chicago                       0.291998
          South Edgebrook, Chicago                    0.287965
          Grand Boulevard, Chicago                    0.285355
          West Lawn, Chicago                          0.284696
          O'Hare, Chicago                             0.282273
          Hamilton Park, Chicago                      0.281899
          Gladstone Park, Chicago                     0.276182
          Prairie Shores, Chicago                     0.273811
          Brickyard, Chicago                          0.273644
          New City, Chicago                           0.273056
          Scottsdale, Chicago                         0.273007
          West Ridge, Chicago                         0.267854
          Washington Heights, Chicago                 0.264369
          Chrysler Village, Chicago                   0.257642
          Greater Grand Crossing, Chicago             0.257264
          Garfield Ridge, Chicago                     0.256600
          Archer Heights, Chicago                     0.255176
          East Garfield Park, Chicago                 0.255065
          Lower West Side, Chicago                    0.253877
          South Shore, Chicago                        0.253658
          Brighton Park, Chicago                      0.249781
          Wrightwood, Chicago                         0.249101
          Vittum Park, Chicago                        0.246524
          Ashburn, Chicago                            0.242712
          Canaryville, Chicago                        0.241045
          LeClaire Courts, Chicago                    0.235597
          Grand Crossing, Chicago                     0.233550
          Pill Hill, Chicago                          0.230021
          Marquette Park, Chicago                     0.228723
          East Chatham, Chicago                       0.227395
          Chatham, Chicago                            0.227395
          West Chatham, Chicago                       0.227395
          West Elsdon, Chicago                        0.224459
          Calumet Heights, Chicago                    0.224387
          Back of the Yards, Chicago                  0.223474
          Gresham, Chicago                            0.212390
          Stony Island Park, Chicago                  0.209555
          Englewood, Chicago                          0.206645
          North Halsted, Chicago                      0.206168
          Park Manor, Chicago                         0.205129
          Roseland, Chicago                           0.204697
          Altgeld Gardens, Chicago                    0.203279
          Marynook, Chicago                           0.203088
          Douglas Park, Chicago                       0.203006
          Hegewisch, Chicago                          0.202611
          East Side, Chicago                          0.197219
          Hanson Park, Chicago                        0.193730
          Avalon Park, Chicago                        0.185567
          Auburn Gresham, Chicago                     0.181546
          Marshall Square, Chicago                    0.179808
          Lithuanian Plaza, Chicago                   0.179741
          Burnside, Chicago                           0.177088
          North Lawndale, Chicago                     0.167643
          Kensington, Chicago                         0.166257
          Cragin, Chicago                             0.161442
          Chicago Lawn, Chicago                       0.160557
          Fernwood, Chicago                           0.158941
          Princeton Park, Chicago                     0.156965
          Homan Square, Chicago                       0.155257
          Brainerd, Chicago                           0.139656
          Lilydale, Chicago                           0.135545
          South Chicago, Chicago                      0.130814
          West Pullman, Chicago                       0.128446
          South Lawndale, Chicago                     0.123072
          Pullman, Chicago                            0.122141
          Rosemoor, Chicago                           0.120605
          Fifth City, Chicago                         0.112018
          West Englewood, Chicago                     0.107681
          West Garfield Park, Chicago                 0.105653
          South Deering, Chicago                      0.068810
          Golden Gate, Chicago                        0.067420
          Riverdale, Chicago                          0.061869
\end{Verbatim}
            
    \section{The results look good to me based on my experience with both
cities. But I do recommend that you try it out for yourself. Below is a
function that will map neighborhoods in New York or Chicago based on a
favorite neighborhood in the other
city}\label{the-results-look-good-to-me-based-on-my-experience-with-both-cities.-but-i-do-recommend-that-you-try-it-out-for-yourself.-below-is-a-function-that-will-map-neighborhoods-in-new-york-or-chicago-based-on-a-favorite-neighborhood-in-the-other-city}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}583}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{colors} \PY{k}{as} \PY{n+nn}{color}
          \PY{k}{def} \PY{n+nf}{map\PYZus{}recommendations}\PY{p}{(}\PY{n}{fave\PYZus{}neighb}\PY{p}{,} \PY{n}{city\PYZus{}of\PYZus{}interest}\PY{p}{)}\PY{p}{:}
              \PY{c+c1}{\PYZsh{}ranked = Similarity[[fave\PYZus{}neighb]].sort\PYZus{}values(by=fave\PYZus{}neighb)[::\PYZhy{}1]}
              \PY{c+c1}{\PYZsh{}ranked[[city\PYZus{}of\PYZus{}interest in x for x in ranked.index]]}
              \PY{c+c1}{\PYZsh{}rankings = ranked[fave\PYZus{}neighb].tolist()}
              \PY{c+c1}{\PYZsh{} create map}
              \PY{n}{loc} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{n}{city\PYZus{}of\PYZus{}interest} \PY{o}{+}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, USA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
              \PY{n}{latitude} \PY{o}{=} \PY{n}{loc}\PY{o}{.}\PY{n}{latitude}
              \PY{n}{longitude} \PY{o}{=} \PY{n}{loc}\PY{o}{.}\PY{n}{longitude}
              \PY{n}{map\PYZus{}clusters} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          
              \PY{c+c1}{\PYZsh{} add markers to the map}
              \PY{n}{markers\PYZus{}colors} \PY{o}{=} \PY{p}{[}\PY{p}{]}
              \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{,} \PY{n}{poi}\PY{p}{,} \PY{n}{r} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Clusters\PYZus{}of\PYZus{}neighborhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City, Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{Similarity}\PY{p}{[}\PY{p}{[}\PY{n}{fave\PYZus{}neighb}\PY{p}{]}\PY{p}{]}\PY{p}{[}\PY{n}{fave\PYZus{}neighb}\PY{p}{]}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                  \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{poi}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ Similarity index }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{r}\PY{p}{)}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
                  \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                      \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{]}\PY{p}{,}
                      \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                      \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                      \PY{n}{color}\PY{o}{=}\PY{n}{color}\PY{o}{.}\PY{n}{to\PYZus{}hex}\PY{p}{(}\PY{n}{plt}\PY{o}{.}\PY{n}{cm}\PY{o}{.}\PY{n}{RdYlGn}\PY{p}{(}\PY{n}{r}\PY{p}{)}\PY{p}{)}\PY{p}{,}
                      \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                      \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{n}{color}\PY{o}{.}\PY{n}{to\PYZus{}hex}\PY{p}{(}\PY{n}{plt}\PY{o}{.}\PY{n}{cm}\PY{o}{.}\PY{n}{RdYlGn}\PY{p}{(}\PY{n}{r}\PY{p}{)}\PY{p}{)}\PY{p}{,}
                      \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}clusters}\PY{p}{)}
          
              \PY{k}{return} \PY{n}{map\PYZus{}clusters}
\end{Verbatim}


    \subsection{Below are some examples}\label{below-are-some-examples}

Neighborhoods similar to Wicker Park in NY

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}584}]:} \PY{n}{map\PYZus{}recommendations}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Wicker Park, Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}584}]:} <folium.folium.Map at 0x1a646f925f8>
\end{Verbatim}
            
    Neighborhoods similar to SoHo in NY

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}587}]:} \PY{n}{map\PYZus{}recommendations}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SoHo, NYC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NYC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}587}]:} <folium.folium.Map at 0x1a647ff87b8>
\end{Verbatim}
            
    Neighborhoods similar to SoHo in Chicago

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}588}]:} \PY{n}{map\PYZus{}recommendations}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SoHo, NYC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Chicago}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}588}]:} <folium.folium.Map at 0x1a64859fbe0>
\end{Verbatim}
            

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
